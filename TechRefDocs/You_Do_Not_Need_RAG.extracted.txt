I T N E X T M e mb e r - o n l y   s t o r y F e a t u r e d Y o u   D o n ’ t   N e e d   R A  G  !   B u i l d   a   Q & A   A I A g e n t   i n   3 0   M i n u t e s    J a v i e r   R a mo s F o l l o w 3 1   mi n   r e a d · J u n   1 0 ,   2 02 5 1 . 9 7 K 6 5 R e m e m b e r   w h e n   e v e r y o n e   w a s   o b s e s s i n g   o v e r   R e t r i e v a l - A u g m e n t e d    G  e n e r a t i o n ( R A  G  ) ?   B u i l d i n g   v e c t o r   d a t a b a s e s ,   c h u n k i n g   d o c u m e n t s ,   c r e a t i n g   e m b e d d i n g s , a n d   d e a l i n g   w i t h   c o m p l e x   p i p e l i n e s   j u s t   t o   a n s w e r   q u e s t i o n s   a b o u t   y o u r   c o m p a n y d o c s ?   W e l l ,   I   m a y   h a v e   s o m e   n e w s   t h a t   m i g h t   m a k e   y o u   r e t h i n k   e v e r y t h i n g . T h e   g o a l   o f   t h i s   a r t i c l e   i s   t o   e x p l o r e   t h e   c u r r e n t   s t a t e   o f   R e t r i e v a l - A u g m e n t e d  G  e n e r a t i o n   ( R A  G  )   i n   2 0 2 5   a n d   d i v e   i n t o   t h e   o n g o i n g   d e b a t e   a r o u n d   w h e t h e r R A  G    i s   “ d e a d . ”   W e ’ l l   d o   t h i s   b y   b u i l d i n g   a   s i m p l e   a l t e r n a t i v e   t o   R A  G    a n d c o m p a r i n g   i t   w i t h   t h e   t r a d i t i o n a l   a p p r o a c h .   A s   a   b o n u s ,   w e   w i l l   a l s o   d i s c u s s t h e   t o p i c   o f   “ T h i n k i n g   v s   N o n - T h i n k i n g   M o d e l s ” . T o   e x p l o r e   t h i s   i d e a ,   w e ’ l l   b u i l d   a   s i m p l e   Q & A   a g e n t   i n   j u s t   3 0   m i n u t e s   t h a t c o m p l e t e l y   s k i p s   R A  G    a n d   g o e s   s t r a i g h t   t o   s e a r c h   A P I s   ( T a v i l y ) +   l a r g e   c o n t e x t w i n d o w s   .   A n d   g u e s s   w h a t ?   I t ’ s   n o t   o n l y   s i m p l e r   a n d   c h e a p e r   t h a n t r a d i t i o n a l   R A  G    —   i t   o f t e n   w o r k s   b e t t e r . L e t   m e   s h o w   y o u   w h y   t h i s   c o u l d   b e   t h e   f u t u r e   o f   d o c u m e n t a t i o n - b a s e d   Q & A s y s t e m s .    S o u r c e    C  o d e :   A l l   t h e   c o d e   d i s c u s s e d   i n   t h i s   a r t i c l e   i s   a v a i l a b l e   a t h t t p s : / / g i t h u b . c o m / j a v i r a m o s 1 / q a g e n t    S p o i l e r   A l e r t :   N o ,   R A  G    i s n ’ t   d e a d   —   b u t   i n   2 0 2 5 ,   i t   s h o u l d n ’ t   b e   y o u r   f i r s t c h o i c e .   S t a r t   s i m p l e ! O pe n   i n   a pp S e a r c h W r i t e 9 

   Y o u   c a n   f i n d   P a r t   2   o f   t h e s e   s e r i e s   h e r e . I n t r o d u c t i o n :   T h e    G  r e a t   R A  G    R e c o n s i d e r a t i o n   o f   2 0 2 5 T h e   g o a l   h e r e   i s n ’ t   t o   b a s h   R A  G    ( i t   h a s   i t s   p l a c e ! ) ,   b u t   t o   e x p l o r e   w h a t ’ s h a p p e n i n g   i n   2 0 2 5   w i t h   a   h a n d s - o n   e x a m p l e .   W e ’ r e   g o i n g   t o   b u i l d   s o m e t h i n g t h a t   t r a d i t i o n a l l y   w o u l d   h a v e   b e e n   a   R A  G    s y s t e m ,   b u t   u s i n g   a   c o m p l e t e l y d i f f e r e n t   a p p r o a c h   t h a t ’ s   b e c o m i n g   i n c r e a s i n g l y   p o p u l a r . B y   t h e   e n d   o f   t h i s   a r t i c l e ,   y o u ’ l l   u n d e r s t a n d : W h y   t h e   “ g o   t o   s o u r c e ”   a p p r o a c h   i s   g a i n i n g   m o m e n t u m   t h a n k s   t o   t o o l c a l l i n g   a n d   M  C  P   t h a t   c a n   l e v e r a g e   e x i s t i n g   s o l u t i o n s . W h e n   R A  G    s t i l l   m a k e s   s e n s e   ( s p o i l e r :   l e s s   o f t e n   t h a n   y o u   t h i n k ) H o w   t o   b u i l d   a   p r a c t i c a l   a l t e r n a t i v e   t h a t   y o u r   u s e r s   w i l l   l o v e B o n u s :   W h y   n o n - t h i n k i n g   m o d e l s   o f t e n   o u t p e r f o r m   “ t h i n k i n g ”   m o d e l s f o r   s i m p l e   s t r u c t u r e d   t a s k s R e a d y ?   L e t ’ s   d i v e   i n !   錄 R A  G  :   T h e    G  o o d ,   T h e   B a d ,   a n d   T h e    C  o m p l i c a t e d W h at   I s   R A  G  ,   R e al l y ? Y o u   c a n   t h i n k   o f   R A  G    a s   a   r e a l l y   s o p h i s t i c a t e d   l i b r a r i a n   s y s t e m .   W h e n s o m e o n e   a s k s   a   q u e s t i o n : 1 .   S p l i t   y o u r   d o c u m e n t s   i n t o   c h u n k s   ( b e c a u s e   m o d e l s   h a v e   c o n t e x t   l i m i t s ) 2 .    C  o n v e r t   e v e r y t h i n g   t o   e m b e d d i n g s   ( m a t h e m a t i c a l   r e p r e s e n t a t i o n s ) 3 .   S t o r e   t h e m   i n   a   v e c t o r   d a t a b a s e   ( y o u r   f a n c y   d i g i t a l   l i b r a r y ) 4 .   W h e n   a   q u e s t i o n   c o m e s   i n ,   c o n v e r t   i t   t o   a n   e m b e d d i n g   t o o 5 .   F i n d   s i m i l a r   c h u n k s   u s i n g   v e c t o r   s i m i l a r i t y   s e a r c h 6 .   S t u f f   t h o s e   c h u n k s   i n t o   y o u r   L L M   w i t h   t h e   q u e s t i o n 7 .    G  e n e r a t e   a n   a n s w e r   b a s e d   o n   t h e   r e t r i e v e d   c o n t e x t 

R A  G    A r c h i t e c t u r e H e r e ’ s   a   s i m p l e   e x a m p l e   o f   w h a t   t h i s   l o o k s   l i k e : #   T r a d i t i o n a l   R A  G    P i p e l i n e   ( s i m p l i f i e d ) d e f   r a g _ p i p e l i n e ( q u e s t i o n ) :         #   S t e p   1 :    C  o n v e r t   q u e s t i o n   t o   e m b e d d i n g         q u e s t i o n _ e m b e d d i n g   =   e m b e d d i n g _ m o d e l . e n c o d e ( q u e s t i o n )                 #   S t e p   2 :   S e a r c h   v e c t o r   d a t a b a s e         s i m i l a r _ c h u n k s   =   v e c t o r _ d b . s i m i l a r i t y _ s e a r c h (                 q u e s t i o n _ e m b e d d i n g ,                   t o p _ k = 5         )                 #   S t e p   3 :   B u i l d   c o n t e x t   f r o m   c h u n k s         c o n t e x t   =   " \ n " . j o i n ( [ c h u n k . c o n t e n t   f o r   c h u n k   i n   s i m i l a r _ c h u n k s ] )                 #   S t e p   4 :    G  e n e r a t e   a n s w e r         p r o m p t   =   f "  C  o n t e x t :   { c o n t e x t } \ n \ n Q u e s t i o n :   { q u e s t i o n } \ n A n s w e r : "         r e t u r n   l l m . g e n e r a t e ( p r o m p t ) Y o u   c a n   l e a r n   m o r e   a b o u t   R A  G    w a t c h i n g   t h i s   q u i c k   v i d e o . T h e   H i s t o r y :   W h y   R A  G    B e c a m e   P o p u l a r B a c k   i n   2 0 2 0 – 2 0 2 3 ,   R A  G    m a d e   p e r f e c t   s e n s e : S m a l l   c o n t e x t   w i n d o w s :    G  P T - 3   h a d   4 K   t o k e n s !   T h i s   i s   t h e   m a i n   r e a s o n R A  G    w a s   i n t r o d u c e d . E x p e n s i v e   t o k e n s :   P r o c e s s i n g   l a r g e   d o c u m e n t s   w a s   c o s t l y “ L o s t   i n   t h e   m i d d l e ”   p r o b l e m :   M o d e l s   c o u l d n ’ t   h a n d l e   l o n g   c o n t e x t s   w e l l N e e d   f o r   f r e s h   d a t a :   M o d e l s   h a d   t r a i n i n g   c u t o f f s R A  G    s o l v e d   t h e s e   p r o b l e m s   b y   b e i n g   s e l e c t i v e   a b o u t   w h a t   i n f o r m a t i o n   t o i n c l u d e   a n d   i t   w a s   a l l o w i n g   t o   a d d   c u r r e n t   d a t a   t o   o u t   o f   d a t e   m o d e l s . 

A   S i m p l e   R A  G    E x am p l e L e t ’ s   s a y   y o u   h a v e   c o m p a n y   d o c u m e n t a t i o n   a n d   s o m e o n e   a s k s :   “ H o w   d o   I   s e t u p   a u t h e n t i c a t i o n   i n   o u r   A P I ? ” T r a d i t i o n a l   R A  G    a p p r o a c h : 1 .    C  h u n k   y o u r   d o c s   i n t o   5 0 0 - w o r d   p i e c e s 2 .   F i n d   t h e   3 – 5   m o s t   s i m i l a r   c h u n k s   a b o u t   a u t h e n t i c a t i o n 3 .   F e e d   o n l y   t h o s e   c h u n k s   t o   t h e   L L M 4 .    G  e n e r a t e   a n   a n s w e r T h i s   w o r k e d   g r e a t   w h e n   c o n t e x t   w a s   l i m i t e d   a n d   e x p e n s i v e   b u t … T h e   H i d d e n    C  o m p l e x i t y :   W h a t   T h e y   D o n ’ t   T e l l   Y o u   A b o u t   R A  G  W h i l e   R A  G    s o u n d s   e l e g a n t   i n   t h e o r y ,   t h e   r e a l i t y   o f   i m p l e m e n t i n g   a n d m a i n t a i n i n g   i t   i s   f a r   m o r e   c o m p l e x   t h a n   m o s t   t u t o r i a l s   s u g g e s t . L e t ’ s   s u m m a r i z e   s o m e   o f   t h e   r e a l   c h a l l e n g e s :    I n f r as t r u c t u r e   N i g h t m ar e  C  o m p l e x   S e t u p :   R A  G    r e q u i r e s   v e c t o r   d a t a b a s e s ,   e m b e d d i n g   p i p e l i n e s , c h u n k i n g   s t r a t e g i e s ,   m o n i t o r i n g ,   a n d   s c a l i n g   - >   H i g h    C  o m p l e x i t y H i g h    C  o s t s :   V e c t o r   d a t a b a s e s   a n d   R A  G    p i p e l i n e s   a r e   e x p e n s i v e   t o   r u n   a n d m a i n t a i n   a n d   t h e   c o s t   e x p l o d e s   o n c e   y o u   r e a c h   a   h i g h   v o l u m e   o f   d a t a c o s t i n g   t h o u s a n d s   o f   d o l l a r s   p e r   m o n t h . V e n d o r   L o c k - i n :    C  h o o s e   b e t w e e n   P i n e c o n e ,   W e a v i a t e ,    C  h r o m a ,   o r   s e l f - h o s t e d   s o l u t i o n s   w i t h   s i g n i f i c a n t   m o n t h l y   c o s t s    T h e    C  h u n k i n g   P r o b l e m  C  h u n k i n g   i s   t h e   p r o c e s s   o f   s p l i t t i n g   d o c u m e n t s   i n t o   s m a l l e r   p i e c e s   t h a t p r e s e r v e   s e m a n t i c   m e a n i n g ,   w h i c h   a r e   t h e n   s t o r e d   i n   t h e   V e c t o r D B .   T h e r e a r e   m a n y   c h u n k i n g   s t r a t e g i e s ,   a l l   o f   t h e m   h a v e   p r o s   a n d   c o n s   a n d   a r e   n o t p e r f e c t ,   s o m e   o f   t h e   i s s u e s   a r e :  C  o n t e x t   L o s s :   S p l i t t i n g   d o c u m e n t s   b r e a k s   s t e p - b y - s t e p   i n s t r u c t i o n s , s e p a r a t e s   c o d e   f r o m   e x p l a n a t i o n s N o   P e r f e c t   S t r a t e g y :   F i x e d - s i z e ,   s e m a n t i c ,   o r   p a r a g r a p h   c h u n k s   a l l   h a v e m a j o r   f l a w s  C  r o s s - R e f e r e n c e   B r e a k i n g :   R e l a t e d   s e c t i o n s   g e t   s e p a r a t e d ,   l o s i n g i m p o r t a n t   c o n n e c t i o n s    S i m i l ar i t y   S e ar c h   I l l u s i o n 

V e c t o r   d a t a b a s e s   u s e   s i m i l a r i t y   s e a r c h ,   w h i c h   i s   c o n c e p t u a l l y   s i m i l a r   t o E l a s t i c s e a r c h   b u t   s p e c i f i c a l l y   o p t i m i z e d   f o r   L L M   e m b e d d i n g s .   W h i l e E l a s t i c s e a r c h   h a s   b e e n   b a t t l e - t e s t e d   f o r   y e a r s ,   v e c t o r   d a t a b a s e s   a r e   n e w e r a n d   s t i l l   e v o l v i n g .   A s   w e ’ l l   d i s c u s s   l a t e r ,   o n e   a l t e r n a t i v e   t o   R A  G    i s   t o   l e v e r a g e e x i s t i n g   E l a s t i c s e a r c h   i n f r a s t r u c t u r e   b y   c r e a t i n g   a   t o o l   t h a t   q u e r i e s   i t   f o r c o n t e x t   r e t r i e v a l .   T h i s   a p p r o a c h   i s   p a r t i c u l a r l y   v a l u a b l e   f o r   o r g a n i z a t i o n s t h a t   a l r e a d y   h a v e   E l a s t i c s e a r c h   c l u s t e r s ,   a s   i t   a v o i d s   t h e   n e e d   t o   i n t r o d u c e a d d i t i o n a l   i n f r a s t r u c t u r e   l i k e   v e c t o r   d a t a b a s e s . M a t h   ≠   R e l e v a n c e :   H i g h   s i m i l a r i t y   s c o r e s   d o n ’ t   g u a r a n t e e   u s e f u l   r e s u l t s Q u e r y   M i s m a t c h :   Q u e s t i o n s   d o n ’ t   a l i g n   w e l l   w i t h   d o c u m e n t   s t a t e m e n t s M i s s i n g    C  o n t e x t :   E m b e d d i n g s   l o s e   i m p o r t a n t   q u a l i f y i n g   i n f o r m a t i o n    M ai n t e n an c e   N i g h t m ar e D o c u m e n t   U p d a t e s :   E v e r y   c h a n g e   r e q u i r e s   r e - c h u n k i n g ,   r e - e m b e d d i n g , r e - i n d e x i n g   e n t i r e   p i p e l i n e ! M o d e l   I n c o m p a t i b i l i t y :    C  a n ’ t   m i x   e m b e d d i n g s   f r o m   d i f f e r e n t   m o d e l s ; u p g r a d e s   =   f u l l   r e b u i l d !   T h i s   m a k e s   s w i t c h i n g   m o d e l s   v e r y   c h a l l e n g i n g ! P e r f o r m a n c e   D e c a y :   V e c t o r   d a t a b a s e s   s l o w   d o w n   a s   t h e y   g r o w .   O n c e   y o u r e a c h   a   l a r g e   d a t a   s i z e   t h e   l a t e n c y   w i l l   b e c o m e   a   p r o b l e m .    S c al ab i l i t y   R e al i t y E x p o n e n t i a l    C  o s t s :   I n f r a s t r u c t u r e   n e e d s   g r o w   f a s t e r   t h a n   d o c u m e n t c o u n t D i m i n i s h i n g   R e t u r n s :   M o r e   d o c u m e n t s   o f t e n   m e a n   w o r s e   s e a r c h   q u a l i t y O p e r a t i o n a l   O v e r h e a d :   R e q u i r e s   d e d i c a t e d   D e v O p s   t e a m   f o r   l a r g e d e p l o y m e n t s     C  o m m o n   F ai l u r e s “ L o s t   i n   t h e   M i d d l e ” :   L L M s   i g n o r e   m i d d l e   c h u n k s   i n   s e a r c h   r e s u l t s S t a l e   D a t a :   N o   r e c e n c y   a w a r e n e s s   i n   v e c t o r   s e a r c h F r a g m e n t e d    C  o n t e x t :    C  o m p l e x   a n s w e r s   g e t   b r o k e n   a c r o s s   m u l t i p l e c h u n k s T h e   R e a l i t y    C  h e c k : E x p o n e n t i a l    C  o s t s :   I n f r a s t r u c t u r e   n e e d s   g r o w   f a s t e r   t h a n   d o c u m e n t c o u n t   ( V e c t o r   d a t a b a s e   s c a l i n g   c h a l l e n g e s ) D i m i n i s h i n g   R e t u r n s :   M o r e   d o c u m e n t s   o f t e n   m e a n s   w o r s e   s e a r c h   q u a l i t y O p e r a t i o n a l    C  o m p l e x i t y :   R e q u i r e s   d e d i c a t e d   D e v O p s   e x p e r t i s e 

T h i s   c o m p l e x i t y   i s   e x a c t l y   w h y   t h e   s i m p l e   s e a r c h - f i r s t   a p p r o a c h   w e ’ r e b u i l d i n g   i s   g a i n i n g   t r a c t i o n .   T h e   i d e a   i s   t o   g o   t o   t h e   d a t a   d i r e c t l y   i n s t e a d   o f c r e a t i n g   c o m p l e x   R A  G    p i p e l i n e s . I n s t e a d   o f   m a n a g i n g   a l l   t h i s   i n f r a s t r u c t u r e ,   w e   u s e   m a t u r e   s e a r c h   A P I s   a n d l a r g e   c o n t e x t   w i n d o w s   t o   g e t   b e t t e r   r e s u l t s   w i t h   a   f r a c t i o n   o f   t h e   c o m p l e x i t y . R A  G    i n   2 0 2 5 :   T h e   L a n d s c a p e   H a s    C  h a n g e d   D r a m a t i c a l l y T h e    C  o n t e x t   W i n d o w   R e v o l u t i o n H e r e ’ s   w h a t   h a p p e n e d   i n   t h e   l a s t   1 8   m o n t h s   t h a t   c h a n g e s   e v e r y t h i n g :  C  o n t e x t   W i n d o w   +    C  o s t W a i t ,   w h a t ?   1   m i l l i o n   t o k e n s   w i n d o w   f o r   $ 0 . 0 7 5 ?   T h a t ’ s   r o u g h l y   7 5 0 , 0 0 0 w o r d s   —   e n t i r e   b o o k s   w o r t h   o f   c o n t e n t !  G  o o g l e ,   w i t h   i t s    G  e m i n i   m o d e l s ,   i s   l e a d i n g   t h i s   n e w   w a v e   o f   i n n o v a t i o n . T h a n k s   t o   d e d i c a t e d   T P U s   a n d   m a s s i v e   d a t a   c e n t e r   i n f r a s t r u c t u r e ,    G  o o g l e h a s   p u s h e d   c o n t e x t   s i z e s   u p   t o   5   m i l l i o n   t o k e n s   —   w h i l e   k e e p i n g   t h e   c o s t   p e r t o k e n   i m p r e s s i v e l y   l o w .   H o w e v e r ,   l o n g   c o n t e x t   w i n d o w s   h a v e   a l s o   s o m e   o f t h e   d r a w b a c k s   t h a t   R A  G    h a s   r e g a r d i n g   s c a l i n g ,   t h e   r e a l   c h a n g e   i s   g o i n g d i r e c l t y   t o   t h e   s o u r c e   i n s t e a d   o f   b u i l d i n g   c o m p l e x   p i p e l i n e s . M o d e l s   l i k e    G  e m i n i   F l a s h   p r o v i d e   a   f a s t ,   c o s t - e f f e c t i v e ,   a n d   s t r a i g h t f o r w a r d s o l u t i o n   f o r   m a n y   L L M   u s e   c a s e s .   O n   t o p   o f   t h a t ,   t h e   l a t e s t    G  e m i n i   v e r s i o n s a r e   o u t p e r f o r m i n g   m o s t   c o m p e t i t o r s   a c r o s s   m a j o r   b e n c h m a r k s . A s   w e ’ l l   e x p l o r e   l a t e r ,   I ’ m   a   b i g   f a n   o f    G  e m i n i   2 . 0   F l a s h   —   i t ’ s   e x t r e m e l y   f a s t , a f f o r d a b l e ,   a n d   h a n d l e s   l a r g e   c o n t e x t   w i n d o w s   w i t h   e a s e . U P D A T E :    G  e m i n i   F l a s h   2 . 5   m o d e l   h a s   j u s t   b e e n   r e l e a s e   a n d   i t   i s   a n   e x c e l l e n t a l t e r n a t i v e ,   a l t h o u g h   i t   i s   a   b i t   m o r e   e x p e n s i v e . T h i s   o p e n s   t h e   d o o r   t o   a   f u n d a m e n t a l   p a r a d i g m   s h i f t .   I n s t e a d   o f   l o a d i n g   d a t a f r o m   m u l t i p l e   s o u r c e s   i n t o   v e c t o r   d a t a b a s e s   a n d   m a i n t a i n i n g   c o m p l e x   R A  G  

p i p e l i n e s ,   w e   c a n   b u i l d   d i r e c t   a c c e s s   t o o l s   a n d   m a k e   t h e m   a v a i l a b l e   t o   L L M s a n d   a g e n t s .   T h e   i d e a ,   i s   t o   e x i s t i n g   p r o v e n   s o l u t i o n s   t h a t   y o u r   o r g a n i z a t i o n m a y   a l r e a d y   h a v e   s u c h   a s   a   d o c   w e b s i t e   o r   E l a s t i c S e a r c h . T h i s   a p p r o a c h   i s   f a r   s i m p l e r   t h a n   t r a d i t i o n a l   R A  G  .   W i t h   t o d a y ’ s   f a s t , a f f o r d a b l e   L L M   m o d e l s   a n d   l a r g e   c o n t e x t   w i n d o w s ,   c o s t   a n d   l a t e n c y   a r e   n o l o n g e r   p r o h i b i t i v e   f a c t o r s . T h e   i n t r o d u c t i o n   o f   M o d e l    C  o n t e x t   P r o t o c o l   ( M  C  P )   h a s   f u n d a m e n t a l l y t r a n s f o r m e d   h o w   a g e n t s   i n t e r a c t   w i t h   t o o l s .   I n s t e a d   o f   m a n u a l l y   c o n f i g u r i n g e a c h   t o o l   c o n n e c t i o n ,   M  C  P   e n a b l e s   a u t o m a t i c   t o o l   d i s c o v e r y   w h e r e   a g e n t s c a n   f i n d   a n d   c o n n e c t   t o   d a t a b a s e s ,   A P I s ,   a n d   e n t e r p r i s e   s y s t e m s d y n a m i c a l l y . T h i s   c r e a t e s   t r u l y   n o n - d e t e r m i n i s t i c   a g e n t i c   w o r k f l o w s   w h e r e   t h e   m a g i c h a p p e n s :   t o o l s   c a n   b e c o m e   a g e n t s   t h e m s e l v e s ,   c a l l i n g   o t h e r   t o o l s r e c u r s i v e l y .   I m a g i n e   a n   a g e n t   t h a t   d i s c o v e r s   a   d a t a b a s e   t o o l ,   u s e s   i t   t o   q u e r y c u s t o m e r   d a t a ,   t h e n   a u t o m a t i c a l l y   f i n d s   a n d   c a l l s   a n   e m a i l   A P I   t o o l   t o   s e n d p e r s o n a l i z e d   m e s s a g e s   —   a l l   w i t h o u t   p r e d e t e r m i n e d   w o r k f l o w s . T h e   r e s u l t   i s   s e l f - o r g a n i z i n g   a g e n t   e c o s y s t e m s   t h a t   a d a p t   b a s e d   o n   a v a i l a b l e c a p a b i l i t i e s   r a t h e r   t h a n   r i g i d   p r o g r a m m i n g   o r   d e t e r m i n i s t i c   w o r k f l o w s . W h a t   o n c e   r e q u i r e d   c o m p l e x   m a n u a l   s e t u p   n o w   e m e r g e s   n a t u r a l l y   f r o m   t o o l i n t e r a c t i o n s ,   m a k i n g   s o p h i s t i c a t e d   m u l t i - a g e n t   s y s t e m s   a c c e s s i b l e   t o   a n y d e v e l o p e r . >      F u t u r e   A r t i c l e   A l e r t :   I n   t h e   n e x t   a r t i c l e ,   w e   w i l l   a d d   M  C  P   t o   o u r   a g e n t   a n d t a l k   a b o u t   t h e   M  C  P   r e v o l u t i o n   a n d   t h e   p o s s i b l e   d e m i s e   o f   f r a m e w o r k s   s u c h   a s  C  r e w A I   o r   L a n g  G  r a p h ,   s t a y   t u n e d ! K e y   T o o l s   f o r   E x t e r n al   D at a  R e t r i e v a l A s   d i s c u s s e d ,   t h e   m a i n   a l t e r n a t i v e   t o   R A  G    i s   b u i l d i n g   t o o l s   t h a t   q u e r y   s o u r c e d a t a   d i r e c t l y ,   e x t r a c t   r e l e v a n t   c o n t e n t ,   a n d   m a k e   i t   a v a i l a b l e   t o   t h e   L L M   a s c o n t e x t .    B o n u s :   t h e s e   t o o l s   c a n   b e   a g e n t s   t h e m s e l v e s   c r e a t i n g   a   h i e r a r c h y   w h e r e   e a c h t o o l   e n c a p s u l a t e s   t h e   c o m p l e x i t y   e x p o s i n g   a   s i m p l e   d i s c o v e r a b l e   i n t e r f a c e . A n   a d d i t i o n a l   a d v a n t a g e   i s   t h a t   t h e   L L M   c a n   d y n a m i c a l l y   d e c i d e   w h i c h   t o o l s t o   u s e   b a s e d   o n   t h e   i n p u t ,   a l l o w i n g   t h e   a g e n t   t o   m a k e   i n t e l l i g e n t   d e c i s i o n s a b o u t   t o o l   s e l e c t i o n   a n d   p a r a m e t e r   c o n f i g u r a t i o n ,   c r e a t i n g   t r u l y   n o n - d e t e r m i n i s t i c   w o r k f l o w s . L e t ’ s   r e v i e w   s o m e   e x a m p l e s   o f   t o o l s   t h a t   c a n   b e   u s e d   t o   e x t r a c t   c o n t e x t   f r o m e x i s t i n g   s y s t e m s : 

   P u b l i c   S e a r c h   T o o l s T a v i l y :   E n a b l e s   L L M s   t o   s e a r c h   p r e - i n d e x e d   p u b l i c   w e b s i t e s   f o r   r e l e v a n t c o n t e x t   - >   T h i s   i s   w h a t   w e   w i l l   u s e   i n   o u r   a g e n t !    E n t e r p r i s e   S e a r c h   T o o l s E l a s t i c s e a r c h   a n d   s i m i l a r   p l a t f o r m s :    C  o n n e c t   d i r e c t l y   t o   y o u r   e x i s t i n g s e a r c h   i n d e x e s   t o   r e t r i e v e   r e l e v a n t   d a t a   f o r   q u e r i e s L e v e r a g e   e x i s t i n g   i n f r a s t r u c t u r e :   N o   n e e d   t o   r e b u i l d   w h a t   y o u   a l r e a d y h a v e S e a r c h   e n g i n e s   v s   V e c t o r   d a t a b a s e s :   T r a d i t i o n a l   s e a r c h   e n g i n e s   l i k e E l a s t i c s e a r c h   h a v e   b e e n   a r o u n d   f o r   y e a r s   a n d   o f t e n   o u t p e r f o r m   v e c t o r d a t a b a s e s   i n   r e t r i e v i n g   r e l e v a n t   i n f o r m a t i o n    D a t a b a s e   I n t e g r a t i o n   T o o l s S Q L   g e n e r a t i o n :   T o o l s   t h a t   u s e   L L M s   t o   g e n e r a t e   S Q L   q u e r i e s   a n d   r e t r i e v e s t r u c t u r e d   d a t a   d i r e c t l y   f r o m   d a t a b a s e s .   T h i s   i s   m o r e   c o m p l e x   b u t d o a b l e . >      F u t u r e   A r t i c l e   A l e r t :   I n t e r e s t e d   i n   t h e   d a t a b a s e   i n t e g r a t i o n   a p p r o a c h ?   L e t m e   k n o w   —   I ’ m   p l a n n i n g   a   d e d i c a t e d   a r t i c l e   o n   L L M - t o - S Q L   t o o l s   a n d   t e c h n i q u e s ! T h a n k s   t o   M  C  P ,   t h e   n u m b e r   o f   t o o l s   a v a i l a b l e   f o r   A g e n t s   h a s   e x p l o d e d ,   y o u c a n   f i n d   a   c u r a t e d   l i s t   h e r e   a n d   y o u   c a n   u s e   A w e s o m e   M  C  P   S e r v e r s   t o d i s c o v e r   m o r e .   Y o u   c a n   e v e n   c o n n e c t   t o   r e m o t e   s e r v e r s   d i r e c t l y   f r o m   y o u r a g e n t s .   I   w i l l   t a l k   a b o u t   M  C  P   i n   m y   n e x t   a r t i c l e ! W h y   R A  G    A l t e r n at i v e s   W o r k s   B e t t e r ✅   S i m p l e r   a r c h i t e c t u r e   —   f e w e r   m o v i n g   p a r t s ✅   L o w e r   m a i n t e n a n c e   —   l e v e r a g e   e x i s t i n g   s e a r c h   i n f r a s t r u c t u r e ✅   A l w a y s   f r e s h   d a t a   —   n o   s t a l e   e m b e d d i n g s ✅    C  o s t   e f f e c t i v e   —   m o d e r n   L L M s   m a k e   t h i s   e c o n o m i c a l l y   v i a b l e ✅   F a s t e r   d e v e l o p m e n t   —   b u i l d   o n   p r o v e n   s e a r c h   t e c h n o l o g i e s  T h e   k e y   i n s i g h t :   D o n ’ t   r e i n v e n t   t h e   w h e e l   w h e n   s e a r c h   e n g i n e s   a l r e a d y s o l v e   t h e   r e t r i e v a l   p r o b l e m   e f f e c t i v e l y . R A  G    A l t e r n at i v e s   A d v an t ag e s ✅   S e a r c h - f i r s t   i s   c h e a p e r   t h a n   t r a d i t i o n a l   R A  G    a n d   m u c h   e a s i e r   t o m a i n t a i n 

   S e a r c h - f i r s t   i s   a l w a y s   f r e s h   —   n o   n e e d   t o   u p d a t e   s t a l e   i n d e x e s   o r r e g e n e r a t e   e m b e d d i n g s N o   “ l o s t   i n   t h e   m i d d l e ”   i s s u e s   —   S e a r c h   r e t u r n s   m o s t   r e l e v a n t   c o n t e n t f i r s t B e t t e r   c o n t e x t   r e l e v a n c e   —   S e a r c h   a l g o r i t h m s   o p t i m i z e   f o r   q u e r y r e l e v a n c e F a s t e r   i t e r a t i o n   —   N o   e m b e d d i n g   r e g e n e r a t i o n   w h e n   d o c u m e n t s   c h a n g e S i m p l e r   d e b u g g i n g   —   E a s y   t o   s e e   w h a t   c o n t e n t   w a s   r e t r i e v e d   a n d   w h y H o w e v e r ,   R A  G    S t i l l   M a k e s   S e n s e   F o r : M a s s i v e   e n t e r p r i s e   d a t a s e t s   ( 1 0 0  G  B + ) F i n e - g r a i n e d   a c c e s s   c o n t r o l   p e r   d o c u m e n t   c h u n k O f f l i n e / a i r - g a p p e d   e n v i r o n m e n t s U l t r a - h i g h   v o l u m e   s c e n a r i o s   ( > 1 0 0 K   q u e r i e s / d a y ) D o c u m e n t s   r e q u i r i n g   c o m p l e x   r e l a t i o n s h i p s  T a k e a w a y :   R A  G    s h o u l d   n o t   b e   y o u r   f i r s t   c h o i c e ,   a n d   s h o u l d   o n l y   b e c o n s i d e r e d   f o r   s p e c i f i c   c a s e s   w h e r e   p r i v a c y   i s   a   c o n c e r n   o r   y o u   h a v e   a   l o t   o f d a t a   t h a t   i s   d i f f i c u l t   t o   a c c e s s   o n   t h e   f l y . H a n d s   O n :   B u i l d i n g   a   S e a r c h - F i r s t   Q & A   A g e n t A l r i g h t ,   e n o u g h   t h e o r y .   L e t ’ s   b u i l d   s o m e t h i n g   t h a t   p r o v e s   s e a r c h - f i r s t   c a n   b e b e t t e r   t h a n   R A  G  .     G  e t   t h e    C  o d e :   F o l l o w   a l o n g   w i t h   t h e   c o m p l e t e   i m p l e m e n t a t i o n   a t h t t p s : / / g i t h u b . c o m / j a v i r a m o s 1 / q a g e n t W h a t   W e   A r e   B u i l d i n g ? W e ’ r e   c r e a t i n g   a   d o m a i n - s p e c i f i c   Q & A   a g e n t   t h a t : O n l y   s e a r c h e s   a p p r o v e d   o r g a n i z a t i o n a l   d o c u m e n t a t i o n   s i t e s   - >   g u a r d r a i l s U s e s   s e a r c h   A P I s   i n s t e a d   o f   v e c t o r   d a t a b a s e s F a l l s   b a c k   t o   c o m p r e h e n s i v e   w e b   s c r a p i n g   w h e n   n e e d e d P r o v i d e s   t r a n s p a r e n t   s o u r c e   a t t r i b u t i o n O p t i o n a l l y ,   s u m m a r i z e s   t h e   s e a r c h   r e s u l t s   t o   r e d u c e   c o s t   a n d   l a t e n c y  C  o s t s   a   f r a c t i o n   o f   t r a d i t i o n a l   R A  G    s y s t e m s 

T h i n k   o f   i t   a s   “ R A  G    w i t h o u t   t h e   R ”   —   w e ’ r e   a u g m e n t i n g   g e n e r a t i o n   w i t h f r e s h ,   c o m p r e h e n s i v e   s e a r c h   r e s u l t s   i n s t e a d   o f   p r e - p r o c e s s e d   c h u n k s . T r a d i t i o n a l l y ,   w h e n   w e   w e r e   l i m i t e d   t o   j u s t   a   4 K   t o k e n   w i n d o w ,   d e v e l o p e r s w o u l d   l o a d   a l l   d o c u m e n t a t i o n   i n t o   a   V e c t o r   D a t a b a s e   a n d   u s e   R A  G    t o   e x t r a c t r e l e v a n t   c o n t e x t .   T h i s   i s   q u i t e   c o m p l e x   a n d   d i f f i c u l t   t o   m a i n t a i n   a s   d i s c u s s e d b e f o r e .   T h i s   i s   h o w   t h e   s o l u t i o n   w o u l d   l o o k :  C  o mp l e x   R A  G    s o l u t i o n 

T h i s   i s   q u i t e   c o m p l e x ,   i n s t e a d ,   o u r   a p p r o a c h   t a k e s   a   d i f f e r e n t   p a t h :   w e   g o d i r e c t l y   t o   t h e   s o u r c e   u s i n g   t o o l s   a n d   l e v e r a g e   e x i s t i n g   s e a r c h   e n g i n e s   t h a t h a v e   a l r e a d y   p r o v e n   t h e i r   e f f e c t i v e n e s s   a t   d a t a   e x t r a c t i o n . S i mp l e r   s o l u t i o n I m p o r t a n t   N o t e :   T h i s   s o l u t i o n   w o r k s   s p e c i f i c a l l y   w i t h   p u b l i c l y   a v a i l a b l e   w e b s i t e s t h a t   a r e   i n d e x e d   b y   s e a r c h   e n g i n e s .   I f   y o u ’ r e   w o r k i n g   w i t h   i n t e r n a l   d o c u m e n t a t i o n o r   p r i v a t e   d a t a ,   I ’ d   b e   h a p p y   t o   d e m o n s t r a t e   h o w   t o   u s e   E l a s t i c S e a r c h   f o r   i n t e r n a l c o n t e x t   r e t r i e v a l ,   o r   e v e n   S Q L   f o r   r e t r i e v i n g   s t r u c t u r e d   d a t a   o n   t h e   f l y . F e at u r e s :   W h y   T h i s   B e at s   T r ad i t i o n a l   R A  G  

A r c h i t e c t u r e :   H o w   I t   A c t u al l y   W o r k s 

1 .   I n i t i a l i z a t i o n   P h a s e :   W h e n   t h e   a g e n t   s t a r t s   u p ,   i t   r e a d s   a    C  S V   f i l e c o n t a i n i n g : W e b s i t e   U R L s   t o   s e a r c h D o m a i n   o r   c a t e g o r i e s   ( t h e   t o p i c / s u b j e c t   a r e a ,   n o t   t h e   w e b s i t e   d o m a i n ) 

D e s c r i p t i o n s   t h a t   h e l p   t h e   L L M   u n d e r s t a n d   w h e n   t o   u s e   e a c h   s i t e 2 .   Q u e r y   P r o c e s s i n g :   W h e n   a   u s e r   s u b m i t s   a   q u e r y ,   t h e   L L M   a n a l y z e s   i t   a n d i n t e l l i g e n t l y   s e l e c t s   w h i c h   w e b s i t e s   w o u l d   b e   m o s t   r e l e v a n t   f o r   f i n d i n g   t h e a n s w e r .   W e   p r o c e s s   a l l   q u e r i e s   a s y n c . 3 .   S e a r c h   E x e c u t i o n :   T h e   s e l e c t e d   s i t e s   a r e   p a s s e d   t o   o u r   S e a r c h   T o o l ,   w h i c h u s e s   T a v i l y   t o   p e r f o r m   f a s t ,   t a r g e t e d   s e a r c h e s   w i t h i n   t h e s e   p r e - a p p r o v e d d o m a i n s . 4 .   D y n a m i c   D e c i s i o n   M a k i n g :   B a s e d   o n   t h e   s e a r c h   r e s u l t s ,   t h e   L L M   e v a l u a t e s w h e t h e r   i t   h a s   s u f f i c i e n t   i n f o r m a t i o n   t o   p r o v i d e   a   c o m p l e t e   a n s w e r : I f   y e s :   I t   r e t u r n s   t h e   r e s p o n s e   i m m e d i a t e l y I f   n o :   I t   m a y   i n v o k e   t h e   W e b   S c r a p i n g   t o o l   t o   g a t h e r   a d d i t i o n a l   d e t a i l s f r o m   s p e c i f i c   p a g e s T h i s   s o l u t i o n   d e m o n s t r a t e s   t h e   b e a u t y   o f   t r u l y   a g e n t i c   d e s i g n   —   i t ’ s r e m a r k a b l y   s i m p l e   y e t   i n c r e d i b l y   p o w e r f u l .   R a t h e r   t h a n   f o l l o w i n g   r i g i d ,   p r e - p r o g r a m m e d   p a t h s ,   w e   l e t   t h e   a g e n t   m a k e   i n t e l l i g e n t   d e c i s i o n s   a b o u t   w h i c h a c t i o n s   t o   t a k e   a n d   w h i c h   t o o l s   t o   u s e   b a s e d   o n   t h e   s p e c i f i c   c o n t e x t   o f   e a c h q u e r y .   T o   a c h i e v e   t h i s   w e   u s e   a   s i m p l e   N o n   T h i n k i n g   m o d e l   f o l l o w i n g   t h e f a m o u s   R e A  C  T   f r a m e w o r k   l e t t i n g   t h e   a g e n t   t h i n k   a n d   d e c i d e   t h e   n e x t   a c t i o n i n   a   l o o p .   T h i s   i s   a   s i m p l e   w a y   o f   m a k i n g   N o n   T h i n k i n g   m o d e l s   “ t h i n k ” . W e   u s e   a   T w o - T i e r   S t r a t e g y : 1 .   F a s t   S e a r c h   ( 9 0 %   o f   q u e r i e s ) :   U s e   T a v i l y   t o   q u i c k l y   s e a r c h   w i t h i n a p p r o v e d   d o m a i n s   a n d   s u m m a r i z e   t h e   r e s u l t s . 2 .   D e e p   S c r a p i n g   ( 1 0 %   o f   q u e r i e s ) :   W h e n   s e a r c h   i s n ’ t   e n o u g h ,   s c r a p e   e n t i r e p a g e s R e A  C  T   v s   T h i n k i n g   M o d e l s :   W h y   W e    C  h o o s e   S p e e d   O v e r   “ I n t e l l i g e n c e ” H e r e ’ s   a   c o n t r o v e r s i a l   t a k e :   W e   d e l i b e r a t e l y   c h o s e    G  e m i n i   2 . 0   F l a s h   o v e r “ t h i n k i n g ”   m o d e l s   l i k e   O p e n A I ’ s   o 3   o r    G  e m i n i   2 . 5   P r o .   W h y ?  G  e mi n i   F l a s h   2 . 0  i s   c h e a p   a n d   f a s t 

T h e   R e A c t   F r a m e w o r k   g i v e s   u s   s t r u c t u r e d   t h i n k i n g   a t   1 / 2 0 0 t h   t h e   c o s t : H u m a n   Q u e r y   →   A g e n t   T h i n k s   →   S e l e c t s   T o o l   →   E x e c u t e s   →   O b s e r v e s   →   R e s p o n d s           ↑                             ↑                         ↑                       ↑                   ↑                   ↑       I n p u t             R e A c t   L o g i c       T o o l   S e l e c t i o n     S e a r c h       R e s u l t s       A n s w e r T h e   m a i n   r e a s o n   I   p r e f e r   u s i n g   n o n - t h i n k i n g   m o d e l s   w i t h   R e A  C  T   i s s c a l a b i l i t y .   I n   m a n y   c a s e s ,   q u e r i e s   g e n e r a t e   s i m p l e   r e s p o n s e s   t h a t   d o n ’ t r e q u i r e   e x t e n s i v e   r e a s o n i n g ,   m a k i n g   t h i n k i n g   m o d e l s   o v e r k i l l .   N o n - t h i n k i n g m o d e l s   p r o v i d e   f a s t   a n d   c o s t - e f f e c t i v e   s o l u t i o n s   f o r   t h e s e   s c e n a r i o s .   F o r c o m p l e x   q u e s t i o n s ,   R e A  C  T   e n a b l e s   a   c h a i n - o f - t h o u g h t   p r o c e s s   t h r o u g h   a l o o p   t h a t   m i m i c s   t h e   r e a s o n i n g   c a p a b i l i t i e s   o f   t h i n k i n g   m o d e l s . R e A c t   L o o p F o r   s e a r c h - a n d - a n s w e r   w o r k f l o w s ,   t h i s   i s   f a r   m o r e   e f f i c i e n t   t h a n   i n t e r n a l c h a i n - o f - t h o u g h t   r e a s o n i n g .   I n   m y   e x p e r i e n c e ,   w h e n   u s i n g   m a n y   t o o l s   w h e r e e a c h   t o o l   h a s   m a n y   i n p u t s ,   t h i s   s o l u t i o n   w o r k s   b e t t e r   t h a n   u s i n g   c h a i n - o f - t h o u g h   L L M s . T h e   a g e n t   f o l l o w s   a   R e A  C  T   p r o m p t   a n d   e a c h   t o o l   i s   w e l l   d e f i n e d   i n   t h e d e s c r i p t i o n   e x p l a i n i n g   i n   d e t a i l   t h e   i n p u t s   a n d   o u t p u t s .   W h e n   r u n   t h e   a p p , y o u   w i l l   s e e   h o w   t h e   a g e n t   m a y   m a k e   m u l t i p l e   s e a r c h e s   u s i n g   a   c h a i n   o f t h o u g h t   l o o p   o r   d e c i d e   t o   u s e   w e b   s c r a p p i n g ,   a l l   o f   t h i s   a t   t h e   d i s c r e t i o n   o f t h e   a g e n t ,   n o   h u m a n   d e c i s i o n s   a t   a l l ! ✅   R e A  C  T   p r o m p t s   a r e   a l s o   v e r y   u s e f u l   t o   p r e v e n t   h a l l u c i n a t i o n s   w h e n   l o n g c o n t e x t   w i n d o w s   a r e   u s e d ! M o d e l   S e l e c t i o n 

F o r   Q & A   a g e n t s ,   g e m i n i - 2 . 0 - f l a s h   p r o v i d e s   a n   e x c e l l e n t   b a l a n c e ,   o f f e r i n g i m p r e s s i v e   s p e e d ,   c o s t - e f f e c t i v e n e s s ,   a n d   t h e   a b i l i t y   t o   h a n d l e   s u b s t a n t i a l c o n t e x t   w i n d o w s   w i t h   e a s e .   I t s   f r e e   t i e r   l i m i t s   a r e   q u i t e   g e n e r o u s ,   p r o v i d i n g 1 5   r e q u e s t s   p e r   m i n u t e   ( R P M ) ,   1 , 0 0 0 , 0 0 0   t o k e n s   p e r   m i n u t e   ( T P M ) ,   a n d   1 , 5 0 0 r e q u e s t s   p e r   d a y   ( R P D ) ,   m a k i n g   i t   h i g h l y   s u i t a b l e   f o r   a   w i d e   r a n g e   o f a p p l i c a t i o n s   b e f o r e   c o n s i d e r i n g   p a i d   t i e r s .   T h i s   i s   t h e   o n e   I ’ m   u s i n g   i n   t h e r e p o . W h e n   y o u r   Q & A   a g e n t   r e q u i r e s   s u p e r i o r   r e a s o n i n g   a n d   a   m o r e   “ i n t e l l i g e n t ” r e s p o n s e ,   g e m i n i - 2 . 5 - f l a s h - p r e v i e w - 0 5 - 2 0   i s   t h e   b e t t e r   o p t i o n .   T h i s   m o d e l , o f f e r s   b e t t e r   p e r f o r m a n c e   a n d   e n h a n c e d   a n a l y t i c a l   c a p a b i l i t i e s ,   m a k i n g   i t i d e a l   f o r   c o m p l e x   q u e r i e s .   H o w e v e r ,   t h i s   i n c r e a s e d   c a p a b i l i t y   c o m e s   w i t h m o r e   r e s t r i c t i v e   f r e e   t i e r   l i m i t s   ( e . g . ,   1 0   R P M ,   2 5 0 , 0 0 0   T P M ,   a n d   5 0 0   R P D )   a n d s m a l l   p r i c e   i n c r e a s e .   U s e   t h i s   m o d e l   i f   y o u   h a v e   a   p a i d   a c c o u n t   a n d   y o u r e q u i r e   h i g h   a c c u r a c y . O n   t h e   o t h e r   h a n d ,   i f   y o u r   p r i m a r y   c o n c e r n   i s   h i g h   t h r o u g h p u t ,   c o s t - e f f i c i e n c y ,   a n d   m a x i m i z i n g   y o u r   f r e e   t i e r   u s a g e   f o r   s i m p l e r ,   h i g h - v o l u m e Q & A ,   g e m i n i - 2 . 0 - f l a s h - l i t e   i s   t h e   m o s t   s u i t a b l e   a l t e r n a t i v e .   W h i l e   i t   m i g h t b e   s l i g h t l y   l e s s   c a p a b l e   i n   c o m p l e x   r e a s o n i n g ,   i t s   s i g n i f i c a n t l y   h i g h e r   r a t e l i m i t s   ( e . g . ,   3 0   R P M ,   1 , 0 0 0 , 0 0 0   T P M ,   a n d   1 , 5 0 0   R P D )   a n d   p r i c e   a l l o w   f o r   a m u c h   l a r g e r   v o l u m e   o f   i n t e r a c t i o n s . I m p l e m e n t a t i o n :   L e t ’ s   L o o k   a t   t h e    C  o d e N o w   f o r   t h e   f u n   p a r t !   L e t ’ s   w a l k   t h r o u g h   t h e   a c t u a l   i m p l e m e n t a t i o n .   E v e n   i f y o u ’ r e   n e w   t o   P y t h o n   o r   L a n g  C  h a i n ,   I ’ l l   e x p l a i n   e v e r y t h i n g   s t e p   b y   s t e p . W e   u s e   L a n g  C  h a i n   b e c a u s e   i t   p r o v i d e s   a n   u n i f i e d ,   m o d e l - a g n o s t i c   i n t e r f a c e t h a t   s i m p l i f i e s   t h e   d e v e l o p m e n t   o f   c o m p l e x   L L M   a p p l i c a t i o n s .   I t   e x c e l s   i n o r c h e s t r a t i n g   m u l t i - s t e p   w o r k f l o w s   w i t h   “  C  h a i n s ”   a n d   “ A g e n t s ”   e n a b l i n g L L M s   t o   u s e   “ T o o l s , ”   a n d   m a n a g i n g   c o n v e r s a t i o n a l   m e m o r y   w i t h   e a s e .   T h i s a b s t r a c t i o n   l a y e r   r e d u c e s   b o i l e r p l a t e   a n d   a c c e l e r a t e s   d e v e l o p m e n t   a n d   a l s o e n h a n c e s   a p p l i c a t i o n   f l e x i b i l i t y ,   f u t u r e - p r o o f i n g ,   a n d   p r o v i d e s   c r u c i a l d e b u g g i n g   c a p a b i l i t i e s   t h r o u g h   i n t e g r a t i o n s   l i k e   L a n g S m i t h .    P y d a n t i c   A I   i s   a n   a l t e r n a t i v e   t o   L a n g c h a i n   t h a t   i t   i s e a s i e r   t o   u s e .    A r c h i t e c t u r e   O v e r v i e w :   H o w   F i l e s   W o r k   T o g e t h e r T h e   r e p o   f o l l o w s   a   s i m p l e   l a y e r e d   a r c h i t e c t u r e   t h a t   i s   q u i t e   s i m p l e :    P r o j e c t   S t r u c t u r e ├ ─ ─   m a i n . p y                       #      F a s t A P I   w e b   s e r v e r   ( e n t r y   p o i n t ) ├ ─ ─   q a _ a g e n t . p y               #   易    C  o r e   a g e n t   l o g i c   ( o r c h e s t r a t o r ) 

├ ─ ─   s e a r c h _ t o o l . p y         #      S e a r c h   f u n c t i o n a l i t y ├ ─ ─   s c r a p i n g _ t o o l . p y     #      W e b   s c r a p i n g   f u n c t i o n a l i t y └ ─ ─   s i t e s _ d a t a . c s v         #      D o m a i n   c o n f i g u r a t i o n T h e   F l o w : 1 .   m a i n . p y   →   R e c e i v e s   H T T P   r e q u e s t s   f r o m   u s e r s 2 .   q a _ a g e n t . p y   →   D e c i d e s   w h i c h   t o o l s   t o   u s e   a n d   o r c h e s t r a t e s   t h e   r e s p o n s e 3 .   s e a r c h _ t o o l . p y   /   s c r a p i n g _ t o o l . p y   →   D o   t h e   a c t u a l   w o r k   o f   f i n d i n g i n f o r m a t i o n 4 .   B a c k   t o   q a _ a g e n t . p y   →    C  o m b i n e s   r e s u l t s   a n d   g e n e r a t e s   f i n a l   a n s w e r 5 .   B a c k   t o   m a i n . p y   →   R e t u r n s   r e s p o n s e   t o   u s e r T h i n k   o f   i t   l i k e   a   r e s t a u r a n t :   m a i n . p y   i s   t h e   w a i t e r ,   q a _ a g e n t . p y   i s   t h e   c h e f w h o   d e c i d e s   w h a t   t o   c o o k ,   a n d   t h e   t o o l s   a r e   s p e c i a l i z e d   k i t c h e n   e q u i p m e n t . 1 .   T h e   S e ar c h   T o o l   ( search_tool.py ) L e t ’ s   s t a r t   w i t h   t h e   s e a r c h   f u n c t i o n a l i t y .   T h i s   t o o l   c o n n e c t s   t o   t h e   T a v i l y s e a r c h   A P I   t o   f i n d   r e l e v a n t   i n f o r m a t i o n . " " " T a v i l y   s e a r c h   t o o l   f o r   d o m a i n - s p e c i f i c   w e b   s e a r c h " " " i m p o r t   l o g g i n g f r o m   t y p i n g   i m p o r t   L i s t ,   O p t i o n a l ,   T y p e ,   A n y f r o m   p y d a n t i c   i m p o r t   B a s e M o d e l ,   F i e l d ,    C  o n f i g D i c t f r o m   l a n g c h a i n . t o o l s   i m p o r t   B a s e T o o l f r o m   l a n g c h a i n _ g o o g l e _ g e n a i   i m p o r t    C  h a t  G  o o g l e  G  e n e r a t i v e A I f r o m   t a v i l y   i m p o r t   T a v i l y  C  l i e n t l o g g i n g . b a s i c  C  o n f i g ( l e v e l = l o g g i n g . I N F O ) l o g g e r   =   l o g g i n g . g e t L o g g e r ( _ _ n a m e _ _ ) c l a s s   T a v i l y S e a r c h I n p u t ( B a s e M o d e l ) :         q u e r y :   s t r   =   F i e l d ( d e s c r i p t i o n = " S e a r c h   q u e r y   w i t h   r e l e v a n t   k e y w o r d s " )         s i t e s :   L i s t [ s t r ]   =   F i e l d (                 d e s c r i p t i o n = " W e b s i t e   d o m a i n s   t o   s e a r c h   ( e . g . ,   [ ' d o c s . l a n g c h a i n . c o m ' ] ) "         )         m a x _ r e s u l t s :   O p t i o n a l [ i n t ]   =   F i e l d (                 d e f a u l t = N o n e ,   d e s c r i p t i o n = " M a x i m u m   r e s u l t s   t o   r e t u r n "         )         d e p t h :   O p t i o n a l [ s t r ]   =   F i e l d (                 d e f a u l t = N o n e ,   d e s c r i p t i o n = " S e a r c h   d e p t h :   ' b a s i c '   o r   ' a d v a n c e d ' "         ) c l a s s   T a v i l y D o m a i n S e a r c h T o o l ( B a s e T o o l ) :         " " " S e a r c h   s p e c i f i c   d o m a i n s   u s i n g   T a v i l y " " "         n a m e :   s t r   =   " s e a r c h _ d o c u m e n t a t i o n "         d e s c r i p t i o n :   s t r   =   " " " S e a r c h   d o c u m e n t a t i o n   w e b s i t e s   u s i n g   T a v i l y   w e b   s e a r c h .         R E Q U I R E D   P A R A M E T E R S :         -   q u e r y   ( s t r i n g ) :   S e a r c h   q u e r y   w i t h   r e l e v a n t   k e y w o r d s   -   w h a t   y o u   w a n t   t o   f i n         -   s i t e s   ( l i s t ) :   W e b s i t e   d o m a i n s   t o   s e a r c h   w i t h i n   ( e . g . ,   [ ' d o c s . l a n g c h a i n . c o m 

        O P T I O N A L   P A R A M E T E R S :         -   m a x _ r e s u l t s   ( i n t e g e r ) :   M a x i m u m   n u m b e r   o f   s e a r c h   r e s u l t s   t o   r e t u r n   ( d e f a u l t         -   d e p t h   ( s t r i n g ) :   S e a r c h   d e p t h   -   ' b a s i c '   f o r   q u i c k   s e a r c h e s   o r   ' a d v a n c e d '   f o         U s a g e    G  u i d e l i n e s :         1 .    C  r e a t e   k e y w o r d - r i c h   s e a r c h   q u e r y   f r o m   u s e r ' s   q u e s t i o n         2 .   S e l e c t   r e l e v a n t   w e b s i t e   d o m a i n s   b a s e d   o n   t e c h n o l o g i e s   m e n t i o n e d         3 .   U s e   ' b a s i c '   d e p t h   f o r   q u i c k   a n s w e r s ,   ' a d v a n c e d '   f o r   t h o r o u g h   r e s e a r c h         4 .   A d j u s t   m a x _ r e s u l t s   b a s e d   o n   h o w   c o m p r e h e n s i v e   y o u   n e e d   t h e   a n s w e r   t o   b e         E x a m p l e s :         -   Q u i c k   s e a r c h :   q u e r y = " L a n g  C  h a i n   c u s t o m   t o o l s " ,   s i t e s = [ " d o c s . l a n g c h a i n . c o m " ]         -    C  o m p r e h e n s i v e   s e a r c h :   q u e r y = " F a s t A P I   a u t h e n t i c a t i o n   m i d d l e w a r e " ,   s i t e s = [ " f         B e s t   P r a c t i c e s :         -   I n c l u d e   t e c h n i c a l   t e r m s   a n d   f r a m e w o r k   n a m e s   i n   q u e r i e s         -    C  h o o s e   a p p r o p r i a t e   d o m a i n s   f o r   t h e   q u e s t i o n   c o n t e x t         -   P r e f e r   o f f i c i a l   d o c u m e n t a t i o n   s i t e s   o v e r   t h i r d - p a r t y   s o u r c e s         -   U s e   s p e c i f i c   q u e r i e s   r a t h e r   t h a n   b r o a d   t e r m s   f o r   b e t t e r   r e s u l t s         " " "         a r g s _ s c h e m a :   T y p e [ B a s e M o d e l ]   =   T a v i l y S e a r c h I n p u t         t a v i l y _ c l i e n t :   A n y   =   F i e l d ( d e f a u l t = N o n e ,   e x c l u d e = T r u e )         a p i _ k e y :   s t r   =   F i e l d ( e x c l u d e = T r u e )         d e f a u l t _ m a x _ r e s u l t s :   i n t   =   F i e l d ( d e f a u l t = 1 0 ,   e x c l u d e = T r u e )         d e f a u l t _ d e p t h :   s t r   =   F i e l d ( d e f a u l t = " b a s i c " ,   e x c l u d e = T r u e )         m a x _ c o n t e n t _ s i z e :   i n t   =   F i e l d ( d e f a u l t = 1 0 0 0 0 ,   e x c l u d e = T r u e )         e n a b l e _ s u m m a r i z a t i o n :   b o o l   =   F i e l d ( d e f a u l t = F a l s e ,   e x c l u d e = T r u e )         s u m m a r i z e r _ l l m :   A n y   =   F i e l d ( d e f a u l t = N o n e ,   e x c l u d e = T r u e )         m o d e l _ c o n f i g   =    C  o n f i g D i c t ( a r b i t r a r y _ t y p e s _ a l l o w e d = T r u e )         d e f   _ _ i n i t _ _ (                 s e l f ,                 a p i _ k e y :   s t r ,                 m a x _ r e s u l t s :   i n t   =   1 0 ,                 d e p t h :   s t r   =   " b a s i c " ,                 m a x _ c o n t e n t _ s i z e :   i n t   =   1 0 0 0 0 ,                 e n a b l e _ s u m m a r i z a t i o n :   b o o l   =   F a l s e ,                 g o o g l e _ a p i _ k e y :   O p t i o n a l [ s t r ]   =   N o n e ,         ) :                 s u p e r ( ) . _ _ i n i t _ _ (                         a p i _ k e y = a p i _ k e y ,                         d e f a u l t _ m a x _ r e s u l t s = m a x _ r e s u l t s ,                         d e f a u l t _ d e p t h = d e p t h ,                         m a x _ c o n t e n t _ s i z e = m a x _ c o n t e n t _ s i z e ,                         e n a b l e _ s u m m a r i z a t i o n = e n a b l e _ s u m m a r i z a t i o n ,                         a r g s _ s c h e m a = T a v i l y S e a r c h I n p u t ,                 )                 i f   n o t   a p i _ k e y :                         r a i s e   V a l u e E r r o r ( " T A V I L Y _ A P I _ K E Y   i s   r e q u i r e d " )                 o b j e c t . _ _ s e t a t t r _ _ ( s e l f ,   " t a v i l y _ c l i e n t " ,   T a v i l y  C  l i e n t ( a p i _ k e y = a p i _ k e y ) )                 i f   e n a b l e _ s u m m a r i z a t i o n   a n d   g o o g l e _ a p i _ k e y :                         s u m m a r i z e r   =   c r e a t e _ s u m m a r i z e r _ l l m ( g o o g l e _ a p i _ k e y )                         o b j e c t . _ _ s e t a t t r _ _ ( s e l f ,   " s u m m a r i z e r _ l l m " ,   s u m m a r i z e r )                         l o g g e r . i n f o ( " 易   S e a r c h   r e s u l t   s u m m a r i z a t i o n   e n a b l e d   w i t h    G  e m i n i   F l a s                 e l i f   e n a b l e _ s u m m a r i z a t i o n :                         l o g g e r . w a r n i n g ( " ⚠   S u m m a r i z a t i o n   d i s a b l e d :   g o o g l e _ a p i _ k e y   n o t   p r o v i d                         o b j e c t . _ _ s e t a t t r _ _ ( s e l f ,   " e n a b l e _ s u m m a r i z a t i o n " ,   F a l s e )                 l o g g e r . i n f o (                         f " T a v i l y   s e a r c h   t o o l   i n i t i a l i z e d   ( s u m m a r i z a t i o n :   { ' e n a b l e d '   i f   s e l f .                 )         a s y n c   d e f   _ s e a r c h _ a s y n c ( s e l f ,   q u e r y :   s t r ,   s i t e s :   L i s t [ s t r ] ,   m a x _ r e s u l t s :   i n t                 " " " E x e c u t e   s e a r c h   w i t h   g i v e n   p a r a m e t e r s   a s y n c h r o n o u s l y " " "                 t r y :                         f i n a l _ m a x _ r e s u l t s   =   m a x _ r e s u l t s   o r   s e l f . d e f a u l t _ m a x _ r e s u l t s                         f i n a l _ d e p t h   =   d e p t h   o r   s e l f . d e f a u l t _ d e p t h                         l o g g e r . i n f o ( f "    S e a r c h i n g :   ' { q u e r y } '   o n   s i t e s :   { s i t e s } " ) 

                        l o g g e r . i n f o (                                 f "    P a r a m e t e r s :   m a x _ r e s u l t s = { f i n a l _ m a x _ r e s u l t s } ,   d e p t h = { f i n a l _ d                         )                         #   N o t e :   T a v i l y  C  l i e n t   d o e s n ' t   h a v e   a s y n c   m e t h o d s   y e t ,   s o   w e   r u n   i n   t h                         s e a r c h _ r e s u l t s   =   a w a i t   a s y n c i o . t o _ t h r e a d (                                 s e l f . t a v i l y _ c l i e n t . s e a r c h ,                                 q u e r y = q u e r y ,                                 m a x _ r e s u l t s = f i n a l _ m a x _ r e s u l t s ,                                 s e a r c h _ d e p t h = f i n a l _ d e p t h ,                                 i n c l u d e _ d o m a i n s = s i t e s ,                         )                         l o g g e r . i n f o ( f "    R e c e i v e d   { l e n ( s e a r c h _ r e s u l t s . g e t ( ' r e s u l t s ' ,   [ ] ) ) }   r                         i f   n o t   s e a r c h _ r e s u l t s . g e t ( " r e s u l t s " ) :                                 l o g g e r . w a r n i n g ( " ⚠   N o   s e a r c h   r e s u l t s   r e t u r n e d " )                                 r e t u r n   " N o   r e s u l t s   f o u n d .   T r y   a   d i f f e r e n t   s e a r c h   q u e r y   o r   c h e c k                           f o r m a t t e d _ r e s u l t s   =   f o r m a t _ s e a r c h _ r e s u l t s (                                 s e a r c h _ r e s u l t s [ " r e s u l t s " ] [ : f i n a l _ m a x _ r e s u l t s ] ,   s e l f . m a x _ c o n t e n t _                         )                         f i n a l _ r e s u l t   =   " \ n " . j o i n ( f o r m a t t e d _ r e s u l t s )                         l o g g e r . i n f o (                                 f " ✅   P r o c e s s e d   { l e n ( s e a r c h _ r e s u l t s [ ' r e s u l t s ' ] ) }   r e s u l t s ,   r e t u r n i                         )                         i f   s e l f . e n a b l e _ s u m m a r i z a t i o n   a n d   s e l f . s u m m a r i z e r _ l l m :                                 t r y :                                         l o g g e r . i n f o ( " 易   S u m m a r i z i n g   r e s u l t s . . . " )                                         s u m m a r i z e d _ r e s u l t   =   a w a i t   s e l f . _ s u m m a r i z e _ r e s u l t s _ a s y n c ( f i n a                                         r e d u c t i o n   =   r o u n d (                                                 ( 1   -   l e n ( s u m m a r i z e d _ r e s u l t )   /   l e n ( f i n a l _ r e s u l t ) )   *   1 0 0                                         )                                         l o g g e r . i n f o (                                                 f "    S u m m a r i z a t i o n :   { l e n ( f i n a l _ r e s u l t ) }   →   { l e n ( s u m m a r i z e                                         )                                         r e t u r n   s u m m a r i z e d _ r e s u l t                                 e x c e p t   E x c e p t i o n   a s   e :                                         l o g g e r . e r r o r (                                                 f " ❌   S u m m a r i z a t i o n   f a i l e d :   { e } .   R e t u r n i n g   o r i g i n a l   r e s u l                                         )                         r e t u r n   f i n a l _ r e s u l t                 e x c e p t   E x c e p t i o n   a s   e :                         e r r o r _ m s g   =   f " ❌   S e a r c h   e r r o r :   { s t r ( e ) } "                         l o g g e r . e r r o r ( e r r o r _ m s g )                         r e t u r n   e r r o r _ m s g         a s y n c   d e f   _ s u m m a r i z e _ r e s u l t s _ a s y n c ( s e l f ,   s e a r c h _ r e s u l t s :   s t r ,   o r i g i n a l _ q u e r y                 " " " S u m m a r i z e   s e a r c h   r e s u l t s   u s i n g   L L M   a s y n c h r o n o u s l y " " "                 t r y :                         p r o m p t   =   c r e a t e _ s u m m a r y _ p r o m p t ( s e a r c h _ r e s u l t s ,   o r i g i n a l _ q u e r y )                         r e s p o n s e   =   a w a i t   a s y n c i o . t o _ t h r e a d ( s e l f . s u m m a r i z e r _ l l m . i n v o k e ,   p r o m p                         r e t u r n   r e s p o n s e . c o n t e n t                 e x c e p t   E x c e p t i o n   a s   e :                         l o g g e r . e r r o r ( f " L L M   s u m m a r i z a t i o n   f a i l e d :   { e } " )                         r e t u r n   s e a r c h _ r e s u l t s         d e f   _ r u n (                 s e l f ,   q u e r y :   s t r ,   s i t e s :   L i s t [ s t r ] ,   m a x _ r e s u l t s :   i n t   =   N o n e ,   d e p t h :   s t r           )   - >   s t r :                 " " " E x e c u t e   s e a r c h   w i t h   g i v e n   p a r a m e t e r s " " "                 r e t u r n   a s y n c i o . r u n ( s e l f . _ s e a r c h _ a s y n c ( q u e r y ,   s i t e s ,   m a x _ r e s u l t s ,   d e p t h ) )         a s y n c   d e f   _ a r u n (                 s e l f ,   q u e r y :   s t r ,   s i t e s :   L i s t [ s t r ] ,   m a x _ r e s u l t s :   i n t   =   N o n e ,   d e p t h :   s t r           )   - >   s t r :                 " " " A s y n c   v e r s i o n   o f   s e a r c h " " "                 r e t u r n   a w a i t   s e l f . _ s e a r c h _ a s y n c ( q u e r y ,   s i t e s ,   m a x _ r e s u l t s ,   d e p t h ) 

   W h a t ’ s   H a p p e n i n g   H e r e : L a n g  C  h a i n   B a s e T o o l :   W e   i n h e r i t   f r o m   t h i s   c l a s s   t o   c r e a t e   a   t o o l   t h e   a g e n t c a n   u s e ,   i n   t h e   n e x t   a r t i c l e   w e   w i l l   c o n v e r t   t h i s   t o   a n   M  C  P   s e r v e r . T h e   t o o l   d e s c r i p t i o n   i s   e x t r e m e l y   i m p o r t a n t ,   i t   t e l l s   t h e   a g e n t   w h e n   a n d h o w   t o   u s e   t h e   t o o l .   M a k e   s u r e   i t   i s   p r e c i s e . P y d a n t i c   M o d e l s :   T y p e   v a l i d a t i o n   f o r   t o o l   i n p u t s   —   e n s u r e s   t h e   a g e n t p a s s e s   c o r r e c t   p a r a m e t e r s D o m a i n   R e s t r i c t i o n :   T h i s   i s   h o w   w e   i m p l e m e n t   g u a r d r a i l s ,   t h e i n c l u d e _ d o m a i n s   p a r a m e t e r   e n s u r e s   w e   o n l y   s e a r c h   a p p r o v e d   w e b s i t e s S m a r t   S u m m a r i z a t i o n :   O p t i o n a l   A I - p o w e r e d   r e s u l t   c o m p r e s s i o n   u s i n g  G  e m i n i   F l a s h - L i t e   t o   r e d u c e   t o k e n   c o s t s A s y n c   S u p p o r t :   W e   u s e   _ a r u n   m e t h o d   t o   s u p p o r t   a s y n c   e x e c u t i o n . E r r o r   H a n d l i n g :    C  o m p r e h e n s i v e   l o g g i n g   a n d   g r a c e f u l   f a i l u r e   r e c o v e r y F l e x i b l e    C  o n f i g u r a t i o n :   S u p p o r t   f o r   d i f f e r e n t   s e a r c h   d e p t h s   a n d   r e s u l t l i m i t s 2 .   T h e   W e b   S c r ap i n g   T o o l   ( scraping_tool.py ) :   O p t i o n al W h e n   s e a r c h   r e s u l t s   a r e n ’ t   e n o u g h ,   t h i s   t o o l   g r a b s   e n t i r e   w e b   p a g e s   f o r c o m p r e h e n s i v e   i n f o r m a t i o n . " " " W e b   s c r a p i n g   t o o l   u s i n g    C  h r o m i u m   f o r   d y n a m i c   c o n t e n t   e x t r a c t i o n " " " i m p o r t   l o g g i n g i m p o r t   a s y n c i o f r o m   t y p i n g   i m p o r t   L i s t ,   T y p e f r o m   p y d a n t i c   i m p o r t   B a s e M o d e l ,   F i e l d ,    C  o n f i g D i c t f r o m   l a n g c h a i n . t o o l s   i m p o r t   B a s e T o o l f r o m   l a n g c h a i n _ c o m m u n i t y . d o c u m e n t _ l o a d e r s   i m p o r t   A s y n c  C  h r o m i u m L o a d e r f r o m   l a n g c h a i n _ c o m m u n i t y . d o c u m e n t _ t r a n s f o r m e r s   i m p o r t   B e a u t i f u l S o u p T r a n s f o r m e r l o g g i n g . b a s i c  C  o n f i g ( l e v e l = l o g g i n g . I N F O ) l o g g e r   =   l o g g i n g . g e t L o g g e r ( _ _ n a m e _ _ ) d e f   g e t _ d e f a u l t _ t a g s ( )   - >   L i s t [ s t r ] :         " " "  G  e t   d e f a u l t   H T M L   t a g s   f o r   w e b   s c r a p i n g " " "         r e t u r n   [ " p " ,   " l i " ,   " d i v " ,   " a " ,   " s p a n " ,   " h 1 " ,   " h 2 " ,   " h 3 " ,   " h 4 " ,   " h 5 " ,   " h 6 " ] c l a s s   W e b S c r a p i n g I n p u t ( B a s e M o d e l ) :         u r l :   s t r   =   F i e l d ( d e s c r i p t i o n = " U R L   t o   s c r a p e " )         t a g s _ t o _ e x t r a c t :   L i s t [ s t r ]   =   F i e l d (                 d e f a u l t _ f a c t o r y = g e t _ d e f a u l t _ t a g s ,   d e s c r i p t i o n = " H T M L   t a g s   t o   e x t r a c t "         ) c l a s s   W e b S c r a p i n g T o o l ( B a s e T o o l ) :         " " " S c r a p e   w e b s i t e s   w h e n   s e a r c h   r e s u l t s   a r e   i n s u f f i c i e n t " " "         n a m e :   s t r   =   " s c r a p e _ w e b s i t e " 

        d e s c r i p t i o n :   s t r   =   " " " S c r a p e   c o m p l e t e   w e b s i t e   c o n t e n t   u s i n g    C  h r o m i u m   b r o w s e r         R E Q U I R E D   P A R A M E T E R S :         -   u r l   ( s t r i n g ) :    C  o m p l e t e   U R L   t o   s c r a p e   ( m u s t   i n c l u d e   h t t p s : / /   o r   h t t p : / / )         O P T I O N A L   P A R A M E T E R S :         -   t a g s _ t o _ e x t r a c t   ( l i s t ) :   H T M L   t a g s   t o   e x t r a c t   c o n t e n t   f r o m               D e f a u l t :   [ " p " ,   " l i " ,   " d i v " ,   " a " ,   " s p a n " ,   " h 1 " ,   " h 2 " ,   " h 3 " ,   " h 4 " ,   " h 5 " ,   " h 6              C  u s t o m   e x a m p l e s :   [ " p r e " ,   " c o d e " ]   f o r   c o d e   e x a m p l e s ,   [ " t a b l e " ,   " t r " ,   " t d " ]           W H E N   T O   U S E :         -   S e a r c h   r e s u l t s   a r e   i n c o m p l e t e   o r   i n s u f f i c i e n t         -   N e e d   c o m p l e t e   p a g e   c o n t e n t   i n c l u d i n g   c o d e   e x a m p l e s         -   P a g e   h a s   d y n a m i c   J a v a S c r i p t   c o n t e n t   t h a t   s e a r c h   m i s s e d         -   N e e d   s p e c i f i c   f o r m a t t i n g   o r   s t r u c t u r e   t h a t   s e a r c h   d o e s n ' t   c a p t u r e         E X A M P L E S :         -   B a s i c   s c r a p i n g :   u r l = " h t t p s : / / d o c s . l a n g c h a i n . c o m / d o c s / m o d u l e s / a g e n t s "         -    C  o d e - f o c u s e d   s c r a p i n g :   u r l = " h t t p s : / / f a s t a p i . t i a n g o l o . c o m / t u t o r i a l / " ,   t a g s _         -   T a b l e   e x t r a c t i o n :   u r l = " h t t p s : / / d o c s . p y t h o n . o r g / 3 / l i b r a r y / " ,   t a g s _ t o _ e x t r a c         B E S T   P R A  C  T I  C  E S :         -   O n l y   u s e   a f t e r   s e a r c h _ d o c u m e n t a t i o n   p r o v i d e s   i n s u f f i c i e n t   i n f o r m a t i o n         -   P r e f e r   U R L s   f r o m   p r e v i o u s   s e a r c h   r e s u l t s   f o r   r e l e v a n c e         -   U s e   s p e c i f i c   t a g   e x t r a c t i o n   f o r   t a r g e t e d   c o n t e n t   ( f a s t e r   p r o c e s s i n g )         -   B e   a w a r e :   ~ 3 - 1 0 x   s l o w e r   t h a n   s e a r c h ,   u s e   s p a r i n g l y   f o r   p e r f o r m a n c e         L I M I T A T I O N S :         -    C  o n t e n t   t r u n c a t e d   a t   c o n f i g u r e d   l i m i t   t o   p r e v e n t   e x c e s s i v e   t o k e n   u s a g e         -   S o m e   s i t e s   m a y   b l o c k   a u t o m a t e d   s c r a p i n g         -   S l o w e r   t h a n   s e a r c h   -   r e s e r v e   f o r   w h e n   s e a r c h   i s   i n a d e q u a t e         " " "         a r g s _ s c h e m a :   T y p e [ B a s e M o d e l ]   =   W e b S c r a p i n g I n p u t         m a x _ c o n t e n t _ l e n g t h :   i n t   =   F i e l d ( d e f a u l t = 1 0 0 0 0 ,   e x c l u d e = T r u e )         m o d e l _ c o n f i g   =    C  o n f i g D i c t ( a r b i t r a r y _ t y p e s _ a l l o w e d = T r u e )         d e f   _ _ i n i t _ _ ( s e l f ,   m a x _ c o n t e n t _ l e n g t h :   i n t   =   1 0 0 0 0 ) :                 s u p e r ( ) . _ _ i n i t _ _ (                         m a x _ c o n t e n t _ l e n g t h = m a x _ c o n t e n t _ l e n g t h ,   a r g s _ s c h e m a = W e b S c r a p i n g I n p u t                 )         a s y n c   d e f   _ p r o c e s s _ s c r a p i n g (                 s e l f ,   u r l :   s t r ,   t a g s _ t o _ e x t r a c t :   L i s t [ s t r ]   =   N o n e ,   i s _ a s y n c :   b o o l   =   T r u e         )   - >   s t r :                 " " "  C  o m m o n   l o g i c   f o r   b o t h   s y n c   a n d   a s y n c   s c r a p i n g " " "                 t r y :                         i f   t a g s _ t o _ e x t r a c t   i s   N o n e :                                 t a g s _ t o _ e x t r a c t   =   g e t _ d e f a u l t _ t a g s ( )                         l o a d e r   =   A s y n c  C  h r o m i u m L o a d e r ( [ u r l ] )                         i f   i s _ a s y n c :                                 h t m l _ d o c s   =   a w a i t   a s y n c i o . t o _ t h r e a d ( l o a d e r . l o a d )                         e l s e :                                 h t m l _ d o c s   =   l o a d e r . l o a d ( )                         i f   n o t   h t m l _ d o c s :                                 r e t u r n   f " F a i l e d   t o   l o a d   c o n t e n t   f r o m   { u r l } "                         b s _ t r a n s f o r m e r   =   B e a u t i f u l S o u p T r a n s f o r m e r ( )                         i f   i s _ a s y n c :                                 d o c s _ t r a n s f o r m e d   =   a w a i t   a s y n c i o . t o _ t h r e a d (                                         b s _ t r a n s f o r m e r . t r a n s f o r m _ d o c u m e n t s ,                                         h t m l _ d o c s ,                                         t a g s _ t o _ e x t r a c t = t a g s _ t o _ e x t r a c t ,                                 )                         e l s e :                                 d o c s _ t r a n s f o r m e d   =   b s _ t r a n s f o r m e r . t r a n s f o r m _ d o c u m e n t s (                                         h t m l _ d o c s ,                                         t a g s _ t o _ e x t r a c t = t a g s _ t o _ e x t r a c t ,                                 )                         i f   n o t   d o c s _ t r a n s f o r m e d : 

                                r e t u r n   f " N o   c o n t e n t   e x t r a c t e d   f r o m   { u r l } "                         c o n t e n t   =   d o c s _ t r a n s f o r m e d [ 0 ] . p a g e _ c o n t e n t                         i f   l e n ( c o n t e n t )   >   s e l f . m a x _ c o n t e n t _ l e n g t h :                                 c o n t e n t   =   (                                         c o n t e n t [ :   s e l f . m a x _ c o n t e n t _ l e n g t h ]   +   " \ n \ n . . .   ( c o n t e n t   t r u n c                                 )                         r e t u r n   f " " " * * W e b s i t e   S c r a p e d : * *   { u r l } * *  C  o n t e n t   E x t r a c t e d : * * { c o n t e n t } * * N o t e : * *    C  o m p l e t e   w e b s i t e   c o n t e n t   f o r   c o m p r e h e n s i v e   a n a l y s i s . " " "                 e x c e p t   E x c e p t i o n   a s   e :                         r e t u r n   f " W e b   s c r a p i n g   e r r o r   f o r   { u r l } :   { s t r ( e ) } "         d e f   _ r u n ( s e l f ,   u r l :   s t r ,   t a g s _ t o _ e x t r a c t :   L i s t [ s t r ]   =   N o n e )   - >   s t r :                 " " " S c r a p e   w e b s i t e   c o n t e n t " " "                 r e t u r n   a s y n c i o . r u n (                         s e l f . _ p r o c e s s _ s c r a p i n g ( u r l ,   t a g s _ t o _ e x t r a c t ,   i s _ a s y n c = F a l s e )                 )         a s y n c   d e f   _ a r u n ( s e l f ,   u r l :   s t r ,   t a g s _ t o _ e x t r a c t :   L i s t [ s t r ]   =   N o n e )   - >   s t r :                 " " " A s y n c   v e r s i o n   o f   s c r a p i n g " " "                 r e t u r n   a w a i t   s e l f . _ p r o c e s s _ s c r a p i n g ( u r l ,   t a g s _ t o _ e x t r a c t ,   i s _ a s y n c = T r u e )    W h a t ’ s   H a p p e n i n g   H e r e : T h e   c o o l   f a c t o r   i s   t h a t   t h e   L L M   w i l l   d e c i d e   b a s e d   o n   t h e   p r e v i o u s   s e a r c h w h i c h   p a g e s   t o   c r a w l   s e l e c t i n g   a   v e r y   s p e c i f i c   p a g e / s   i n s t e a d   o f   s c r a p i n g t h e   w h o l e   d o c u m e n t a t i o n   l i k e   o t h e r   s o l u t i o n s   d o . A s y n c  C  h r o m i u m L o a d e r :   U s e s   a   r e a l    C  h r o m i u m   b r o w s e r   t o   h a n d l e J a v a S c r i p t - h e a v y   s i t e s B e a u t i f u l S o u p T r a n s f o r m e r :   I n t e l l i g e n t l y   e x t r a c t s   c l e a n   t e x t   f r o m   H T M L S e l e c t i v e   T a g   E x t r a c t i o n :   O n l y   e x t r a c t s   m e a n i n g f u l   c o n t e n t   t a g s ,   i g n o r i n g n a v i g a t i o n   a n d   a d s  C  o n t e n t   L i m i t i n g :   A u t o m a t i c a l l y   t r u n c a t e s   l o n g   p a g e s   t o   k e e p   t o k e n   c o s t s r e a s o n a b l e .   N O T E :   W e   c o u l d   h a v e   u s e d   s u m m a r i z a t i o n   h e r e   a s   w e l l ! E r r o r   R e c o v e r y :    G  r a c e f u l   h a n d l i n g   o f   n e t w o r k   f a i l u r e s ,   J a v a S c r i p t   e r r o r s , a n d   p a r s i n g   i s s u e s A s y n c   S u p p o r t :   B u i l t - i n   a s y n c   m e t h o d s   f o r   p r o d u c t i o n   s c a l a b i l i t y 3 .   T h e   Q & A   A g e n t   ( qa_agent.py )   -   T h e   B r ai n   易 T h i s   i s   w h e r e   t h e   m a g i c   h a p p e n s .   T h e   a g e n t   d e c i d e s   w h i c h   t o o l s   t o   u s e   a n d o r c h e s t r a t e s   t h e   e n t i r e   c o n v e r s a t i o n . 

" " " Q & A   A g e n t   w i t h   d o m a i n - s p e c i f i c   w e b   s e a r c h   c a p a b i l i t i e s " " " i m p o r t   l o g g i n g i m p o r t   p a n d a s   a s   p d f r o m   t y p i n g   i m p o r t   L i s t ,   D i c t ,   A n y ,   O p t i o n a l f r o m   l a n g c h a i n . a g e n t s   i m p o r t   A g e n t E x e c u t o r ,   c r e a t e _ s t r u c t u r e d _ c h a t _ a g e n t f r o m   l a n g c h a i n _ g o o g l e _ g e n a i   i m p o r t    C  h a t  G  o o g l e  G  e n e r a t i v e A I f r o m   l a n g c h a i n . p r o m p t s   i m p o r t    C  h a t P r o m p t T e m p l a t e ,   M e s s a g e s P l a c e h o l d e r f r o m   l a n g c h a i n . s c h e m a   i m p o r t   B a s e M e s s a g e ,   H u m a n M e s s a g e ,   A I M e s s a g e f r o m   s e a r c h _ t o o l   i m p o r t   T a v i l y D o m a i n S e a r c h T o o l f r o m   s c r a p i n g _ t o o l   i m p o r t   W e b S c r a p i n g T o o l l o g g i n g . b a s i c  C  o n f i g ( l e v e l = l o g g i n g . I N F O ) l o g g e r   =   l o g g i n g . g e t L o g g e r ( _ _ n a m e _ _ ) d e f   c r e a t e _ s y s t e m _ p r o m p t ( k n o w l e d g e _ s o u r c e s _ m d :   s t r ,   d o m a i n s :   L i s t [ s t r ] )   - >   s t r :         " " "  C  r e a t e   t h e   s y s t e m   p r o m p t   w i t h   k n o w l e d g e   s o u r c e s " " "         r e t u r n   f " " " Y o u   a r e   a   s p e c i a l i z e d   Q & A   a g e n t   t h a t   s e a r c h e s   s p e c i f i c   d o c u m e n t a t A V A I L A B L E   K N O W L E D  G  E   S O U R  C  E S   s p l i t   b y   c a t e g o r y / d o m a i n / t o p i c   h a v i n g   t h e   w e b s i t e   a n { k n o w l e d g e _ s o u r c e s _ m d } I N S T R U  C  T I O N S : 1 .   A L W A Y S   s t a r t   w i t h   t h e   s e a r c h _ d o c u m e n t a t i o n   t o o l   f o r   A N Y   q u e s t i o n 2 .   A n a l y z e   t h e   u s e r ' s   q u e s t i o n   t o   d e t e r m i n e   r e l e v a n t   d o m a i n s / t o p i c s / c a t e g o r i e s 3 .   S e l e c t   a p p r o p r i a t e   s i t e s   b a s e d   o n   t e c h n o l o g i e s / t o p i c s   m e n t i o n e d 4 .   I f   s e a r c h   r e s u l t s   d o n ' t   p r o v i d e   s u f f i c i e n t   i n f o r m a t i o n   t o   a n s w e r   t h e   q u e s t i o n 5 .   Y o u   m u s t   o n l y   a n s w e r   q u e s t i o n s   a b o u t   a v a i l a b l e   k n o w l e d g e   s o u r c e s :   { d o m a i n s } 6 .   I f   q u e s t i o n   i s   o u t s i d e   a v a i l a b l e   k n o w l e d g e   s o u r c e s ,   d o   n o t   a n s w e r   t h e   q u e s t i o T O O L   U S A  G  E   S T R A T E  G  Y : -   F i r s t :   U s e   s e a r c h _ d o c u m e n t a t i o n   t o   f i n d   r e l e v a n t   i n f o r m a t i o n   q u i c k l y -   S e c o n d :   I f   s e a r c h   r e s u l t s   a r e   i n c o m p l e t e ,   u n c l e a r   o r   d o   n o t   p r o v i d e   e n o u g h   i n f -   A l w a y s   p r e f e r   s e a r c h   o v e r   s c r a p i n g   f o r   e f f i c i e n c y   b u t   a l w a y s   u s e   s c r a p i n g   w h e n R U L E S : -   B e   h e l p f u l   a n d   c o m p r e h e n s i v e -    C  i t e   s o u r c e s   w h e n   p o s s i b l e -   O n l y   u s e   s c r a p i n g   w h e n   s e a r c h   r e s u l t s   p r o v i d e   n o   a n s w e r -   W h e n   s c r a p i n g ,   c h o o s e   t h e   m o s t   r e l e v a n t   U R L   f r o m   p r e v i o u s   s e a r c h   r e s u l t s Y o u   h a v e   a c c e s s   t o   t h e   f o l l o w i n g   t o o l s : { { t o o l s } } U s e   a   j s o n   b l o b   t o   s p e c i f y   a   t o o l   b y   p r o v i d i n g   a n   a c t i o n   k e y   ( t o o l   n a m e )   a n d   a n   V a l i d   " a c t i o n "   v a l u e s :   " F i n a l   A n s w e r "   o r   { { t o o l _ n a m e s } } P r o v i d e   o n l y   O N E   a c t i o n   p e r   $ J S O N _ B L O B ,   a s   s h o w n : ` ` ` { { { {     " a c t i o n " :   " $ T O O L _ N A M E " ,     " a c t i o n _ i n p u t " :   " $ I N P U T " } } } } ` ` ` F o l l o w   t h i s   f o r m a t : Q u e s t i o n :   i n p u t   q u e s t i o n   t o   a n s w e r T h o u g h t :   c o n s i d e r   p r e v i o u s   a n d   s u b s e q u e n t   s t e p s A c t i o n : ` ` ` $ J S O N _ B L O B ` ` ` O b s e r v a t i o n :   a c t i o n   r e s u l t . . .   ( r e p e a t   T h o u g h t / A c t i o n / O b s e r v a t i o n   N   t i m e s ) T h o u g h t :   I   k n o w   w h a t   t o   r e s p o n d A c t i o n :   

` ` ` { { { {     " a c t i o n " :   " F i n a l   A n s w e r " ,     " a c t i o n _ i n p u t " :   " r e s p o n s e " } } } } ` ` ` B e g i n !   R e m i n d e r   t o   A L W A Y S   r e s p o n d   w i t h   a   v a l i d   j s o n   b l o b   o f   a   s i n g l e   a c t i o n .   U s e " " " c l a s s   D o m a i n Q A A g e n t :         " " " Q & A   A g e n t   t h a t   s e a r c h e s   s p e c i f i c   d o m a i n s   b a s e d   o n   u s e r   q u e r i e s " " "         d e f   _ _ i n i t _ _ (                 s e l f ,                 c s v _ f i l e _ p a t h :   s t r   =   " s i t e s _ d a t a . c s v " ,                 c o n f i g :   O p t i o n a l [ D i c t [ s t r ,   A n y ] ]   =   N o n e ,         ) :                 i f   c o n f i g   i s   N o n e :                         r a i s e   V a l u e E r r o r ( "  C  o n f i g u r a t i o n   i s   r e q u i r e d " )                 s e l f . c o n f i g   =   c o n f i g                 s e l f . s i t e s _ d f   =   l o a d _ s i t e s _ d a t a ( c s v _ f i l e _ p a t h )                 s e l f . l l m   =   c r e a t e _ l l m ( c o n f i g )                 s e l f . s e a r c h _ t o o l   =   c r e a t e _ s e a r c h _ t o o l ( c o n f i g )                 s e l f . s c r a p i n g _ t o o l   =   c r e a t e _ s c r a p i n g _ t o o l ( c o n f i g )                 s e l f . c h a t _ h i s t o r y :   L i s t [ B a s e M e s s a g e ]   =   [ ]                 s e l f . a g e n t _ e x e c u t o r   =   s e l f . _ c r e a t e _ a g e n t ( )                 l o g g e r . i n f o ( f " A g e n t   i n i t i a l i z e d   w i t h   { l e n ( s e l f . s i t e s _ d f ) }   s i t e s " )         d e f   _ c r e a t e _ a g e n t ( s e l f )   - >   A g e n t E x e c u t o r :                 " " "  C  r e a t e   s t r u c t u r e d   c h a t   a g e n t   w i t h   t o o l s   a n d   p r o m p t " " "                 k n o w l e d g e _ s o u r c e s _ m d ,   d o m a i n s   =   b u i l d _ k n o w l e d g e _ s o u r c e s _ t e x t ( s e l f . s i t e s _                 s y s t e m _ m e s s a g e   =   c r e a t e _ s y s t e m _ p r o m p t ( k n o w l e d g e _ s o u r c e s _ m d ,   d o m a i n s )                 p r o m p t   =    C  h a t P r o m p t T e m p l a t e . f r o m _ m e s s a g e s (                         [                                 ( " s y s t e m " ,   s y s t e m _ m e s s a g e ) ,                                 M e s s a g e s P l a c e h o l d e r ( v a r i a b l e _ n a m e = " c h a t _ h i s t o r y " ,   o p t i o n a l = T r u e )                                 (                                         " h u m a n " ,                                         " { i n p u t } \ n \ n { a g e n t _ s c r a t c h p a d } ( r e m i n d e r   t o   r e s p o n d   i n   a   J S O N                                         " \ n   I M P O R T A N T : W h e n   c a l l i n g   a   t o o l   k e e p   t h e   J S O N   b l o b   i n   t h e                                   ) ,                         ]                 )                 a g e n t   =   c r e a t e _ s t r u c t u r e d _ c h a t _ a g e n t (                         l l m = s e l f . l l m ,   t o o l s = [ s e l f . s e a r c h _ t o o l ,   s e l f . s c r a p i n g _ t o o l ] ,   p r o m p t = p                 )                 r e t u r n   A g e n t E x e c u t o r (                         a g e n t = a g e n t ,                         t o o l s = [ s e l f . s e a r c h _ t o o l ,   s e l f . s c r a p i n g _ t o o l ] ,                         v e r b o s e = T r u e ,                         m a x _ i t e r a t i o n s = 1 0 ,   #   L i m i t   i t e r a t i o n s   t o   p r e v e n t   i n f i n i t e   l o o p s                         r e t u r n _ i n t e r m e d i a t e _ s t e p s = T r u e ,                         h a n d l e _ p a r s i n g _ e r r o r s = T r u e ,   #   H a n d l e   p a r s i n g   e r r o r s   g r a c e f u l l y                 )         a s y n c   d e f   a c h a t ( s e l f ,   u s e r _ i n p u t :   s t r )   - >   s t r :                 " " " P r o c e s s   u s e r   i n p u t   a s y n c h r o n o u s l y " " "                 t r y :                         l o g g e r . i n f o ( f " P r o c e s s i n g :   { u s e r _ i n p u t } " )                         a g e n t _ i n p u t   =   {                                 " i n p u t " :   u s e r _ i n p u t ,                                 " c h a t _ h i s t o r y " :   (                                         s e l f . c h a t _ h i s t o r y [ - 5 : ]   i f   s e l f . c h a t _ h i s t o r y   e l s e   [ ]                                 ) ,     #   l i m i t   c o n t e x t   w i n d o w   t o   5                         }                         #   A s y n c   i n v o k e   t h e   a g e n t   e x e c u t o r                         r e s p o n s e   =   a w a i t   s e l f . a g e n t _ e x e c u t o r . a i n v o k e ( a g e n t _ i n p u t ) 

                        a n s w e r   =   r e s p o n s e . g e t ( " o u t p u t " ,   " I   c o u l d n ' t   p r o c e s s   y o u r   r e q u e s t . " )                         #   U p d a t e   c h a t   h i s t o r y                         s e l f . c h a t _ h i s t o r y . e x t e n d (                                 [ H u m a n M e s s a g e ( c o n t e n t = u s e r _ i n p u t ) ,   A I M e s s a g e ( c o n t e n t = a n s w e r ) ]                         )                         r e t u r n   a n s w e r                 e x c e p t   E x c e p t i o n   a s   e :                         e r r o r _ m s g   =   f " E r r o r :   { s t r ( e ) } "                         l o g g e r . e r r o r ( e r r o r _ m s g )                         r e t u r n   e r r o r _ m s g         d e f   r e s e t _ m e m o r y ( s e l f ) :                 " " " R e s e t   c o n v e r s a t i o n   m e m o r y " " "                 s e l f . c h a t _ h i s t o r y . c l e a r ( )                 l o g g e r . i n f o ( " M e m o r y   r e s e t " ) L a n g  C  h a i n   m a k e s   t h e   a g e n t   c o d e   q u i t e   s i m p l e ,   m o s t   o f   t h e   c o d e   i s   t h e P r o m p t ,   t h a t   c a n   b e   e x t r a c t e d   i n t o   a   s e p a r a t e   f i l e   i n   t h e   f u t u r e . 易   W h a t ’ s   H a p p e n i n g   H e r e : S t r u c t u r e d    C  h a t   A g e n t :   W e   u s e   a   m o r e   r e l i a b l e   t h a n   b a s i c   R e A c t   a g e n t s f o r   c o m p l e x   t o o l   u s a g e .   I   f i n d   c r e a t e _ s t r u c t u r e d _ c h a t _ a g e n t   m e t h o d   i n L a n g c h a i n   +   R e A  C  T   u s i n g   a   n o n   t h i n k i n g   m o d e l   a s   t h e   b e s t   c o m b i n a t i o n f o r   m o s t   A g e n t s   t h a t   n e e d   h u m a n   i n t e r a c t i o n . P r o m p t :   W e   u s e   t h e   R e A c t   f r a m e w o r k   p l u s   o u r   s p e c i f i c   i n s t r u c t i o n s   a n d g u a r d r a i l s   t o   o n l y   a n s w e r   q u e s t i o n s   f o r   t h e   s p e c i f i c   c a t e g o r i e s / d o m a i n s . W e   p a r s e   t h e    C  S V   c o n t e n t s   a n d   p a s s   i t   i n   t h e   s y s t e m   p r o m p t .  C  h a t  G  o o g l e  G  e n e r a t i v e A I :   O p t i m i z e d   w r a p p e r   f o r    G  e m i n i   w i t h   p r o p e r e r r o r   h a n d l i n g D y n a m i c   P r o m p t    G  e n e r a t i o n :   S y s t e m   p r o m p t   a d a p t s   b a s e d   o n   a v a i l a b l e k n o w l e d g e   s o u r c e s   f r o m    C  S V M e s s a g e s P l a c e h o l d e r :   E n a b l e s   c o n v e r s a t i o n   m e m o r y   a n d   c o n t e x t a w a r e n e s s S m a r t   T o o l   S t r a t e g y :   E x p l i c i t   i n s t r u c t i o n s   f o r   w h e n   t o   s e a r c h   v s .   w h e n   t o s c r a p e P r o d u c t i o n   S a f e t y :   I t e r a t i o n   l i m i t s ,   e r r o r   h a n d l i n g ,   a n d   c o m p r e h e n s i v e l o g g i n g A s y n c   S u p p o r t :   B u i l t   f o r   h i g h - p e r f o r m a n c e   w e b   a p p l i c a t i o n s 4 .   T h e   F as t A P I   S e r v e r   ( main.py )   -   T h e   F r o n t   D o o r    T h i s   c r e a t e s   a   p r o d u c t i o n - r e a d y   w e b   A P I   t h a t   u s e r s   c a n   i n t e r a c t   w i t h   v i a H T T P   r e q u e s t s . 

" " " F a s t A P I   a p p l i c a t i o n   f o r   D o m a i n - s p e c i f i c   Q & A   A g e n t I t   r e a d s   t h e   e n v   v a r i a b l e s   f r o m   t h e   . e n v   f i l e   a n d   u s e s   t h e m   t o   i n i t i a l i z e   t h e   Q & I t   h a s   a   c h a t   e n d p o i n t   t h a t   a l l o w s   y o u   t o   c h a t   w i t h   t h e   a g e n t . " " " i m p o r t   l o g g i n g i m p o r t   o s i m p o r t   u u i d f r o m   c o n t e x t l i b   i m p o r t   a s y n c c o n t e x t m a n a g e r f r o m   t y p i n g   i m p o r t   D i c t ,   A n y f r o m   f a s t a p i   i m p o r t   F a s t A P I ,   H T T P E x c e p t i o n ,    C  o o k i e ,   R e s p o n s e f r o m   p y d a n t i c   i m p o r t   B a s e M o d e l i m p o r t   u v i c o r n f r o m   d o t e n v   i m p o r t   l o a d _ d o t e n v f r o m   q a _ a g e n t   i m p o r t   D o m a i n Q A A g e n t l o a d _ d o t e n v ( ) l o g g i n g . b a s i c  C  o n f i g ( l e v e l = l o g g i n g . I N F O ) l o g g e r   =   l o g g i n g . g e t L o g g e r ( _ _ n a m e _ _ ) d e f   g e t _ i n t _ e n v ( k e y :   s t r ,   d e f a u l t :   i n t )   - >   i n t :         " " " P a r s e   i n t e g e r   f r o m   e n v i r o n m e n t   v a r i a b l e   w i t h   f a l l b a c k " " "         t r y :                 r e t u r n   i n t ( o s . g e t e n v ( k e y ,   d e f a u l t ) )         e x c e p t   V a l u e E r r o r :                 l o g g e r . w a r n i n g ( f " I n v a l i d   { k e y } ,   u s i n g   d e f a u l t :   { d e f a u l t } " )                 r e t u r n   d e f a u l t d e f   g e t _ f l o a t _ e n v ( k e y :   s t r ,   d e f a u l t :   f l o a t )   - >   f l o a t :         " " " P a r s e   f l o a t   f r o m   e n v i r o n m e n t   v a r i a b l e   w i t h   f a l l b a c k " " "         t r y :                 r e t u r n   f l o a t ( o s . g e t e n v ( k e y ,   d e f a u l t ) )         e x c e p t   V a l u e E r r o r :                 l o g g e r . w a r n i n g ( f " I n v a l i d   { k e y } ,   u s i n g   d e f a u l t :   { d e f a u l t } " )                 r e t u r n   d e f a u l t d e f   v a l i d a t e _ a p i _ k e y s ( ) :         " " " V a l i d a t e   r e q u i r e d   A P I   k e y s   a r e   p r e s e n t " " "         g o o g l e _ a p i _ k e y   =   o s . g e t e n v ( "  G  O O  G  L E _ A P I _ K E Y " )         t a v i l y _ a p i _ k e y   =   o s . g e t e n v ( " T A V I L Y _ A P I _ K E Y " )         i f   n o t   g o o g l e _ a p i _ k e y   o r   g o o g l e _ a p i _ k e y   = =   " y o u r _ g o o g l e _ a p i _ k e y _ h e r e " :                 r a i s e   V a l u e E r r o r ( "  G  O O  G  L E _ A P I _ K E Y   e n v i r o n m e n t   v a r i a b l e   i s   r e q u i r e d " )         i f   n o t   t a v i l y _ a p i _ k e y   o r   t a v i l y _ a p i _ k e y   = =   " y o u r _ t a v i l y _ a p i _ k e y _ h e r e " :                 r a i s e   V a l u e E r r o r ( " T A V I L Y _ A P I _ K E Y   e n v i r o n m e n t   v a r i a b l e   i s   r e q u i r e d " )         r e t u r n   g o o g l e _ a p i _ k e y ,   t a v i l y _ a p i _ k e y d e f   b u i l d _ c o n f i g ( )   - >   D i c t [ s t r ,   A n y ] :         " " " B u i l d   c o n f i g u r a t i o n   f r o m   e n v i r o n m e n t   v a r i a b l e s " " "         g o o g l e _ a p i _ k e y ,   t a v i l y _ a p i _ k e y   =   v a l i d a t e _ a p i _ k e y s ( )         s e a r c h _ d e p t h   =   o s . g e t e n v ( " S E A R  C  H _ D E P T H " ,   " b a s i c " )         i f   s e a r c h _ d e p t h   n o t   i n   [ " b a s i c " ,   " a d v a n c e d " ] :                 l o g g e r . w a r n i n g ( f " I n v a l i d   S E A R  C  H _ D E P T H   ' { s e a r c h _ d e p t h } ' ,   u s i n g   d e f a u l t :   b                 s e a r c h _ d e p t h   =   " b a s i c "         r e t u r n   {                 " g o o g l e _ a p i _ k e y " :   g o o g l e _ a p i _ k e y ,                 " t a v i l y _ a p i _ k e y " :   t a v i l y _ a p i _ k e y ,                 " m a x _ r e s u l t s " :   g e t _ i n t _ e n v ( " M A X _ R E S U L T S " ,   1 0 ) ,                 " s e a r c h _ d e p t h " :   s e a r c h _ d e p t h ,                 " m a x _ c o n t e n t _ s i z e " :   g e t _ i n t _ e n v ( " M A X _  C  O N T E N T _ S I Z E " ,   1 0 0 0 0 ) ,                 " m a x _ s c r a p e _ l e n g t h " :   g e t _ i n t _ e n v ( " M A X _ S  C  R A P E _ L E N  G  T H " ,   1 0 0 0 0 ) , 

                " e n a b l e _ s e a r c h _ s u m m a r i z a t i o n " :   o s . g e t e n v (                         " E N A B L E _ S E A R  C  H _ S U M M A R I Z A T I O N " ,   " f a l s e "                 ) . l o w e r ( )                 = =   " t r u e " ,                 " l l m _ t e m p e r a t u r e " :   g e t _ f l o a t _ e n v ( " L L M _ T E M P E R A T U R E " ,   0 . 1 ) ,                 " l l m _ m a x _ t o k e n s " :   g e t _ i n t _ e n v ( " L L M _ M A X _ T O K E N S " ,   3 0 0 0 ) ,                 " r e q u e s t _ t i m e o u t " :   g e t _ i n t _ e n v ( " R E Q U E S T _ T I M E O U T " ,   3 0 ) ,                 " l l m _ t i m e o u t " :   g e t _ i n t _ e n v ( " L L M _ T I M E O U T " ,   6 0 ) ,         } d e f   l o g _ c o n f i g ( c o n f i g :   D i c t [ s t r ,   A n y ] ) :         " " " P r e t t y   p r i n t   c o n f i g u r a t i o n   ( e x c l u d i n g   A P I   k e y s ) " " "         s a f e _ c o n f i g   =   { k :   v   f o r   k ,   v   i n   c o n f i g . i t e m s ( )   i f   n o t   k . e n d s w i t h ( " _ a p i _ k e y " )         l o g g e r . i n f o ( "  C  o n f i g u r a t i o n   l o a d e d : " )         f o r   k e y ,   v a l u e   i n   s a f e _ c o n f i g . i t e m s ( ) :                 l o g g e r . i n f o ( f "     { k e y } :   { v a l u e } " ) d e f   c r e a t e _ c o n f i g ( )   - >   D i c t [ s t r ,   A n y ] :         " " "  C  r e a t e   a n d   v a l i d a t e   c o m p l e t e   c o n f i g u r a t i o n " " "         t r y :                 c o n f i g   =   b u i l d _ c o n f i g ( )                 l o g _ c o n f i g ( c o n f i g )                 l o g g e r . i n f o ( " E n v i r o n m e n t   v a l i d a t i o n   c o m p l e t e d " )                 r e t u r n   c o n f i g         e x c e p t   E x c e p t i o n   a s   e :                 l o g g e r . e r r o r ( f " E n v i r o n m e n t   v a l i d a t i o n   f a i l e d :   { s t r ( e ) } " )                 r a i s e @ a s y n c c o n t e x t m a n a g e r a s y n c   d e f   l i f e s p a n ( a p p :   F a s t A P I ) :         " " " I n i t i a l i z e   a n d   c l e a n u p   Q & A   a g e n t " " "         t r y :                 l o g g e r . i n f o ( " I n i t i a l i z i n g   Q & A   A g e n t . . . " )                 c o n f i g   =   c r e a t e _ c o n f i g ( )                 #   I n i t i a l i z e   e m p t y   s e s s i o n   s t o r e   i n s t e a d   o f   s i n g l e   a g e n t                 a p p . s t a t e . u s e r _ s e s s i o n s   =   { }                 a p p . s t a t e . c o n f i g   =   c o n f i g                 l o g g e r . i n f o ( " S e s s i o n   s t o r e   i n i t i a l i z e d   s u c c e s s f u l l y " )         e x c e p t   E x c e p t i o n   a s   e :                 l o g g e r . e r r o r ( f " F a i l e d   t o   i n i t i a l i z e   s e s s i o n   s t o r e :   { s t r ( e ) } " )                 r a i s e         y i e l d         l o g g e r . i n f o ( " S h u t t i n g   d o w n   s e s s i o n   s t o r e . . . " )         #    C  l e a n u p   a l l   a g e n t   i n s t a n c e s         i f   h a s a t t r ( a p p . s t a t e ,   ' u s e r _ s e s s i o n s ' ) :                 f o r   s e s s i o n _ i d   i n   l i s t ( a p p . s t a t e . u s e r _ s e s s i o n s . k e y s ( ) ) :                         l o g g e r . i n f o ( f "  C  l e a n i n g   u p   s e s s i o n   { s e s s i o n _ i d } " )                 a p p . s t a t e . u s e r _ s e s s i o n s . c l e a r ( ) a p p   =   F a s t A P I (         t i t l e = " D o m a i n   Q & A   A g e n t   A P I " ,         d e s c r i p t i o n = " A   Q & A   a g e n t   t h a t   s e a r c h e s   s p e c i f i c   d o m a i n s   u s i n g   T a v i l y   a n d   L a n         v e r s i o n = " 1 . 0 . 0 " ,         l i f e s p a n = l i f e s p a n , ) d e f   g e t _ o r _ c r e a t e _ a g e n t ( s e s s i o n _ i d :   s t r )   - >   D o m a i n Q A A g e n t :         " " "  G  e t   e x i s t i n g   a g e n t   i n s t a n c e   o r   c r e a t e   n e w   o n e   f o r   s e s s i o n " " "         i f   n o t   h a s a t t r ( a p p . s t a t e ,   " u s e r _ s e s s i o n s " ) :                 r a i s e   H T T P E x c e p t i o n ( s t a t u s _ c o d e = 5 0 0 ,   d e t a i l = " S e s s i o n   s t o r e   n o t   i n i t i a l i z                 i f   s e s s i o n _ i d   n o t   i n   a p p . s t a t e . u s e r _ s e s s i o n s :                 l o g g e r . i n f o ( f "  C  r e a t i n g   n e w   a g e n t   i n s t a n c e   f o r   s e s s i o n   { s e s s i o n _ i d } " )                 a p p . s t a t e . u s e r _ s e s s i o n s [ s e s s i o n _ i d ]   =   D o m a i n Q A A g e n t ( c o n f i g = a p p . s t a t e . c o n                 r e t u r n   a p p . s t a t e . u s e r _ s e s s i o n s [ s e s s i o n _ i d ] 

c l a s s    C  h a t R e q u e s t ( B a s e M o d e l ) :         m e s s a g e :   s t r         r e s e t _ m e m o r y :   b o o l   =   F a l s e c l a s s    C  h a t R e s p o n s e ( B a s e M o d e l ) :         r e s p o n s e :   s t r         s t a t u s :   s t r   =   " s u c c e s s "         s e s s i o n _ i d :   s t r @ a p p . g e t ( " / h e a l t h " ) a s y n c   d e f   h e a l t h _ c h e c k ( ) :         " " " H e a l t h   c h e c k   w i t h   s e s s i o n   s t o r e   s t a t u s " " "         r e t u r n   {                 " m e s s a g e " :   " D o m a i n   Q & A   A g e n t   A P I   i s   r u n n i n g " ,                 " s t a t u s " :   " h e a l t h y " ,                 " v e r s i o n " :   " 1 . 0 . 0 " ,                 " a c t i v e _ s e s s i o n s " :   l e n ( a p p . s t a t e . u s e r _ s e s s i o n s )   i f   h a s a t t r ( a p p . s t a t e ,   " u         } @ a p p . p o s t ( " / c h a t " ,   r e s p o n s e _ m o d e l =  C  h a t R e s p o n s e ,   s u m m a r y = "  C  h a t   w i t h   Q & A   A g e n t " ) a s y n c   d e f   c h a t (         r e q u e s t :    C  h a t R e q u e s t ,         r e s p o n s e :   R e s p o n s e ,         s e s s i o n _ i d :   s t r   =    C  o o k i e ( N o n e ) ) :         " " " P r o c e s s   u s e r   q u e s t i o n s   t h r o u g h   t h e   Q & A   a g e n t " " "         #    G  e n e r a t e   n e w   s e s s i o n   I D   i f   n o n e   e x i s t s         i f   n o t   s e s s i o n _ i d :                 s e s s i o n _ i d   =   s t r ( u u i d . u u i d 4 ( ) )                 r e s p o n s e . s e t _ c o o k i e (                         k e y = " s e s s i o n _ i d " ,                         v a l u e = s e s s i o n _ i d ,                         h t t p o n l y = T r u e ,                         s e c u r e = T r u e ,                         s a m e s i t e = " l a x " ,                         m a x _ a g e = 3 6 0 0     #   1   h o u r   s e s s i o n                 )                 l o g g e r . i n f o ( f " P r o c e s s i n g   c h a t   r e q u e s t   f o r   s e s s i o n   { s e s s i o n _ i d } " )                 #    G  e t   o r   c r e a t e   a g e n t   i n s t a n c e   f o r   t h i s   s e s s i o n         a g e n t   =   g e t _ o r _ c r e a t e _ a g e n t ( s e s s i o n _ i d )         i f   r e q u e s t . r e s e t _ m e m o r y :                 a g e n t . r e s e t _ m e m o r y ( )                 l o g g e r . i n f o ( f " M e m o r y   r e s e t   r e q u e s t e d   f o r   s e s s i o n   { s e s s i o n _ i d } " )         r e s p o n s e _ t e x t   =   a w a i t   a g e n t . a c h a t ( r e q u e s t . m e s s a g e )         l o g g e r . i n f o ( f " S u c c e s s f u l l y   p r o c e s s e d   c h a t   r e q u e s t   f o r   s e s s i o n   { s e s s i o n _ i d } " )         r e t u r n    C  h a t R e s p o n s e (                 r e s p o n s e = r e s p o n s e _ t e x t ,                 s t a t u s = " s u c c e s s " ,                 s e s s i o n _ i d = s e s s i o n _ i d         ) @ a p p . p o s t ( " / r e s e t " ,   s u m m a r y = " R e s e t   c o n v e r s a t i o n   m e m o r y " ) a s y n c   d e f   r e s e t _ m e m o r y ( s e s s i o n _ i d :   s t r   =    C  o o k i e ( N o n e ) ) :         " " " R e s e t   c o n v e r s a t i o n   m e m o r y   f o r   t h e   c u r r e n t   s e s s i o n " " "         i f   n o t   s e s s i o n _ i d :                 r a i s e   H T T P E x c e p t i o n ( s t a t u s _ c o d e = 4 0 0 ,   d e t a i l = " N o   a c t i v e   s e s s i o n " )                 a g e n t   =   g e t _ o r _ c r e a t e _ a g e n t ( s e s s i o n _ i d )         a g e n t . r e s e t _ m e m o r y ( )         l o g g e r . i n f o ( f " M e m o r y   r e s e t   v i a   e n d p o i n t   f o r   s e s s i o n   { s e s s i o n _ i d } " )         r e t u r n   { " m e s s a g e " :   "  C  o n v e r s a t i o n   m e m o r y   h a s   b e e n   r e s e t " ,   " s t a t u s " :   " s u c c e s s " i f   _ _ n a m e _ _   = =   " _ _ m a i n _ _ " :         u v i c o r n . r u n ( " m a i n : a p p " ,   h o s t = " 0 . 0 . 0 . 0 " ,   p o r t = 8 0 0 0 ,   r e l o a d = T r u e ,   l o g _ l e v e l = " i 

   W h a t ’ s   H a p p e n i n g   H e r e : F a s t A P I :   M o d e r n   P y t h o n   w e b   f r a m e w o r k   w i t h   a u t o m a t i c   O p e n A P I d o c u m e n t a t i o n P y d a n t i c   M o d e l s :   T y p e - s a f e   r e q u e s t / r e s p o n s e   v a l i d a t i o n   a n d   s e r i a l i z a t i o n D e p e n d e n c y   I n j e c t i o n :    C  l e a n   a r c h i t e c t u r e   w i t h   p r o p e r   e r r o r   h a n d l i n g L i f e s p a n   M a n a g e m e n t :   A g e n t   i n i t i a l i z e s   o n c e   a t   s t a r t u p   a n d   p e r s i s t s a c r o s s   r e q u e s t s E n v i r o n m e n t   V a l i d a t i o n :    C  o m p r e h e n s i v e   v a l i d a t i o n   o f   a l l   c o n f i g u r a t i o n p a r a m e t e r s  C  o o k i e   s u p p o r t :   T h e   A P I   u s e s   s e c u r e   H T T P   c o o k i e s   t o   m a i n t a i n   s e p a r a t e c o n v e r s a t i o n   m e m o r y   f o r   e a c h   u s e r .   W h e n   y o u   m a k e   y o u r   f i r s t   r e q u e s t ,   a u n i q u e   s e s s i o n   I D   ( U U I D )   i s   a u t o m a t i c a l l y   g e n e r a t e d   a n d   s t o r e d   i n   a s e c u r e   c o o k i e .   E a c h   s e s s i o n   I D   c r e a t e s   i t s   o w n   a g e n t   i n s t a n c e   w i t h i s o l a t e d   m e m o r y ,   s o   y o u r   c o n v e r s a t i o n   h i s t o r y   n e v e r   m i x e s   w i t h   o t h e r u s e r s   —   e v e n   i f   t h e y ’ r e   u s i n g   t h e   A P I   s i m u l t a n e o u s l y . P r o d u c t i o n   F e a t u r e s :   H e a l t h   c h e c k s ,   p r o p e r   l o g g i n g ,   e r r o r   h a n d l i n g ,   a n d m o n i t o r i n g A s y n c   S u p p o r t :   F u l l y   a s y n c   a r c h i t e c t u r e   f o r   h i g h   p e r f o r m a n c e   u n d e r l o a d    H o w   I t   A l l   W o r k s   T o g e t h e r :   T h e    C  o m p l e t e   F l o w H e r e ’ s   w h a t   h a p p e n s   w h e n   a   u s e r   a s k s   a   q u e s t i o n : 1 .   H T T P   R e q u e s t   →   m a i n . p y   r e c e i v e s   P O S T   t o   / c h a t   w i t h   m e s s a g e 2 .   V a l i d a t i o n   →   P y d a n t i c   v a l i d a t e s   r e q u e s t   f o r m a t   a n d   a g e n t   a v a i l a b i l i t y 3 .   A g e n t   P r o c e s s i n g   →   q a _ a g e n t . p y   r e c e i v e s   t h e   q u e s t i o n   w i t h   c o n v e r s a t i o n h i s t o r y 4 .   S t r u c t u r e d   T h i n k i n g   →   A g e n t   a n a l y z e s   q u e s t i o n   u s i n g   s y s t e m   p r o m p t   a n d d e c i d e s   s t r a t e g y 5 .   T o o l   S e l e c t i o n   →   U s u a l l y   s t a r t s   w i t h   s e a r c h _ t o o l . p y   f o r   f a s t   r e s u l t s 6 .   D o m a i n - R e s t r i c t e d   S e a r c h   →   S e a r c h e s   o n l y   a p p r o v e d   d o m a i n s   v i a   T a v i l y A P I 7 .   R e s u l t   E v a l u a t i o n   →   A g e n t   a n a l y z e s   s e a r c h   q u a l i t y   a n d   d e c i d e s   i f s u f f i c i e n t 8 .   O p t i o n a l   S c r a p i n g   →   I f   n e e d e d ,   u s e s   s c r a p i n g _ t o o l . p y   o n   m o s t   r e l e v a n t U R L 

9 .   R e s p o n s e   S y n t h e s i s   →   A g e n t   c o m b i n e s   a l l   i n f o r m a t i o n   i n t o   c o h e r e n t a n s w e r 1 0 .   M e m o r y   U p d a t e   →    C  o n v e r s a t i o n   h i s t o r y   u p d a t e d   f o r   c o n t e x t   i n   f u t u r e q u e s t i o n s 1 1 .   H T T P   R e s p o n s e   →   F o r m a t t e d   R e s p o n s e   i s   s e n t   t o   t h e   c l i e n t T h i s   a r c h i t e c t u r e   d e m o n s t r a t e s   h o w   n o n - t h i n k i n g   m o d e l s   l i k e    G  e m i n i   F l a s h c a n   o u t p e r f o r m   e x p e n s i v e   “ t h i n k i n g ”   m o d e l s   f o r   s t r u c t u r e d   t a s k s .   T h e R e A c t   f r a m e w o r k   p r o v i d e s   s y s t e m a t i c   r e a s o n i n g   a t   a   f r a c t i o n   o f   t h e   c o s t , w h i l e   t o o l - b a s e d   a r c h i t e c t u r e   e n s u r e s   r e l i a b l e ,   t r a c e a b l e   r e s u l t s .   P e r f e c t   f o r p r o d u c t i o n   Q & A   s y s t e m s   u s i n g   p u b l i c   w e b s i t e s !    H o w   d o e s   t h i s   s c a l e ? W e l l ,   y o u   c a n   k e e p   a d d i n g   m o r e   t o o l s :   S Q L    G  e n e r a t i o n   +   E x e c u t i o n , E l a s t i c S e a r c h ,   S 3   A c c e s s   a n d   m u c h   m o r e ;   t h e   p o s s i b i l i t i e s   a r e   e n d l e s s ,   j u s t b u i l d   m o d e   t o o l s   a n d   e x p o s e   t h e m   o v e r   M  C  P !   B u t   f i r s t   c h e c k   t h e   M  C  P r e p o s i t o r i e s ,   m o s t   l i k e l y   s o m e o n e   e l s e   h a v e   a l r e a d y   b u i l t   t h e   i n t e g r a t i o n . T h e   u n d e r l y i n g   i d e a   i s   t o   g o   d i r e c t l y   t o   t h e   d a t a   i n s t e a d   o f   h a v i n g   c o m p l e x d a t a   p i p e l i n e s ,   L L M s   c a n   h a n d l e   n o i s e   o r   u n c l e a n   d a t a   q u i t e   w e l l ! L e t ’ s   P l a y ! T i m e   t o   s e e   t h e   a g e n t   i n   a c t i o n !   H e r e ’ s   h o w   t o   r u n   i t : S e t t i n g   U p   Y o u r   K n o w l e d g e   S o u r c e s T o   c o n f i g u r e   w h i c h   w e b s i t e s   y o u r   a g e n t   c a n   s e a r c h ,   y o u ’ l l   n e e d   t o   e d i t   t h e s i t e s _ d a t a . c s v   f i l e .   T h i s    C  S V   c o n t a i n s   t h r e e   c o l u m n s   t h a t   t e l l   t h e   a g e n t   w h a t r e s o u r c e s   a r e   a v a i l a b l e :  C  S V   S t r u c t u r e :  C  o l u m n   1   ( D o m a i n /  C  a t e g o r y ) :   T h e   s u b j e c t   a r e a   o r   t o p i c   ( e . g . ,   “ p y t h o n ” , “ w e b - d e v e l o p m e n t ” ,   “ m a c h i n e - l e a r n i n g ” )  C  o l u m n   2   ( W e b s i t e   U R L ) :   T h e   a c t u a l   w e b s i t e   d o m a i n   ( e . g . , “ p y t h o n . l a n g c h a i n . c o m ” ,   “ d o c s . p y t h o n . o r g ” )  C  o l u m n   3   ( D e s c r i p t i o n ) :   A   c l e a r   e x p l a n a t i o n   o f   w h a t   t h e   s i t e   c o n t a i n s   a n d w h e n   t o   u s e   i t E x a m p l e   E n t r y : 

  p y t h o n , p y t h o n . l a n g c h a i n . c o m , O f f i c i a l   L a n g  C  h a i n   d o c u m e n t a t i o n   f o r   P y t h o n   i n c l u d i n w e b - d e v e l o p m e n t , d e v e l o p e r . m o z i l l a . o r g ,  C  o m p r e h e n s i v e   w e b   d e v e l o p m e n t   d o c u m e n t a t i o P r o   T i p :   T h e   d e s c r i p t i o n   i s   c r u c i a l   —   i t ’ s   w h a t   t h e   a g e n t   u s e s   t o   d e c i d e w h e t h e r   a   p a r t i c u l a r   s i t e   w i l l   b e   h e l p f u l   f o r   a n s w e r i n g   a   u s e r ’ s   q u e s t i o n .   B e s p e c i f i c   a b o u t   w h a t   t o p i c s   a n d   t y p e s   o f   i n f o r m a t i o n   e a c h   s i t e   c o v e r s . Y o u   c a n   a d d   a s   m a n y   w e b s i t e s   a s   n e e d e d .   T h e   a g e n t   w i l l   i n t e l l i g e n t l y   c h o o s e w h i c h   o n e s   t o   s e a r c h   b a s e d   o n   t h e   u s e r ’ s   q u e r y   a n d   y o u r   d e s c r i p t i o n s . O b t a i n i n g   t h e    C  r e d e n t i a l s : Y o u   n e e d   t o   h e a d   t o   T a v i l y   a n d    G  o o g l e   t o   g e t   a n   A P I   K e y .  G  e t t i n g   a   T a v i l y   A P I   K e y :  G  o   t o   t a v i l y . c o m   a n d   s i g n   u p   f o r   a   f r e e   a c c o u n t .   O n c e   y o u ’ r e   l o g g e d   i n , n a v i g a t e   t o   y o u r   d a s h b o a r d   o r   A P I   s e c t i o n   w h e r e   y o u ’ l l   f i n d   y o u r   A P I   k e y . T a v i l y   t y p i c a l l y   o f f e r s   a   g e n e r o u s   f r e e   t i e r   t h a t   i n c l u d e s   t h o u s a n d s   o f s e a r c h e s   p e r   m o n t h ,   w h i c h   s h o u l d   b e   m o r e   t h a n   e n o u g h   f o r   t e s t i n g   a n d s m a l l   p r o j e c t s .  G  e t t i n g   a    G  e m i n i   A P I   K e y : V i s i t   a i . g o o g l e . d e v   (  G  o o g l e   A I   S t u d i o )   a n d   s i g n   i n   w i t h   y o u r    G  o o g l e   a c c o u n t . O n c e   i n s i d e ,   l o o k   f o r   t h e   “  G  e t   A P I   K e y ”   b u t t o n   o r   n a v i g a t e   t o   t h e   A P I   k e y s s e c t i o n .   Y o u   c a n   c r e a t e   a   n e w   p r o j e c t   i f   n e e d e d ,   t h e n   g e n e r a t e   y o u r   A P I   k e y .  G  o o g l e ’ s    G  e m i n i   A P I   a l s o   c o m e s   w i t h   a   s u b s t a n t i a l   f r e e   t i e r   t h a t   i n c l u d e s   a h i g h   n u m b e r   o f   r e q u e s t s   p e r   m o n t h . A f t e r   o b t a i n i n g   b o t h   k e y s ,   y o u ’ l l   n e e d   t o   a d d   t h e m   t o   y o u r   e n v i r o n m e n t v a r i a b l e s   o r   c o n f i g u r a t i o n   f i l e .   M o s t   p r o j e c t s   u s e   a   . e n v   f i l e   w h e r e   y o u ’ d   a d d : T A V I L Y _ A P I _ K E Y = y o u r _ t a v i l y _ k e y _ h e r e  G  E M I N I _ A P I _ K E Y = y o u r _ g e m i n i _ k e y _ h e r e M a k e   s u r e   t o   k e e p   t h e s e   k e y s   s e c u r e   a n d   n e v e r   c o m m i t   t h e m   t o   p u b l i c r e p o s i t o r i e s .   B o t h   s e r v i c e s   o f f e r   e x c e l l e n t   f r e e   t i e r s ,   s o   y o u   c a n   s t a r t   b u i l d i n g a n d   t e s t i n g   w i t h o u t   a n y   u p f r o n t   c o s t s .   T h e   f r e e   q u o t a s   a r e   t y p i c a l l y   g e n e r o u s e n o u g h   f o r   d e v e l o p m e n t   a n d   s m a l l - s c a l e   p r o d u c t i o n   u s e . 

    N o w ,   w e   c a n   s t a r t   t h e   s e r v e r ! #    C  l o n e   a n d   s e t u p g i t   c l o n e   h t t p s : / / g i t h u b . c o m / j a v i r a m o s 1 / q a g e n t . g i t c d   q a g e n t m a k e   i n s t a l l #    C  o n f i g u r e   y o u r   A P I   k e y s c p   . e n v . e x a m p l e   . e n v #   A d d   y o u r    G  O O  G  L E _ A P I _ K E Y   a n d   T A V I L Y _ A P I _ K E Y #   R u n   t h e   s e r v e r m a k e   r u n  G  o   t o   h t t p : / / l o c a l h o s t : 8 0 0 0 / d o c s   t o   s e e   t h e   d o c s   a n d   e v e n   s e n d   r e q u e s t s ! N o w   l e t ’ s   t e s t   i t   w i t h   s o m e   o f   t h e   w e b s i t e s   I   h a v e   i n   m y   r e p o . E x a m p l e   1 :   S t a n d a r d   S e a r c h c u r l   - X   P O S T   h t t p : / / l o c a l h o s t : 8 0 0 0 / c h a t   \     - H   "  C  o n t e n t - T y p e :   a p p l i c a t i o n / j s o n "   \     - d   ' { " m e s s a g e " :   " H o w   d o   I   c r e a t e   a   L a n g  C  h a i n   a g e n t ? " } ' R e s p o n s e : {     " s t a t u s " :   " s u c c e s s " ,     " r e s p o n s e " :   " T o   c r e a t e   a   L a n g  C  h a i n   a g e n t ,   y o u   c a n   u s e   s p e c i f i c   f u n c t i o n s   l i k e   } E x a m p l e   2 :   S e a r c h   +   S c r a p i n g   F a l l b a c k c u r l   - X   P O S T   h t t p : / / l o c a l h o s t : 8 0 0 0 / c h a t   \     - H   "  C  o n t e n t - T y p e :   a p p l i c a t i o n / j s o n "   \     - d   ' { " m e s s a g e " :   " h o w   d o   I   u s e   S t r u c t u r e d   O u t p u t s   w i t h   o l l a m a   i n   L l a m a I n d e x ,   s h T h e   a g e n t   f i r s t   s e a r c h e s ,   r e a l i z e s   i t   n e e d s   m o r e   d e t a i l s ,   t h e n   s c r a p e s   t h e   f u l l L l a m a I n d e x   p a g e   a u t o m a t i c a l l y ! E x a m p l e   3 :    G  u a r d r a i l s   i n   A c t i o n 

  c u r l   - X   P O S T   h t t p : / / l o c a l h o s t : 8 0 0 0 / c h a t   \     - H   "  C  o n t e n t - T y p e :   a p p l i c a t i o n / j s o n "   \     - d   ' { " m e s s a g e " :   " H o w   d o   I   h a c k   i n t o   a   d a t a b a s e ? " } ' R e s p o n s e : {     " s t a t u s " :   " s u c c e s s " ,       " r e s p o n s e " :   " I   c a n   o n l y   h e l p   w i t h   q u e s t i o n s   r e l a t e d   t o   o u r   a v a i l a b l e   d o c u m e n t a } P e r f e c t   g u a r d r a i l s   —   n o   u n a u t h o r i z e d   k n o w l e d g e   a c c e s s !    N O T E :   T h i s   p r o j e c t   i s   j u s t   a n   e x a m p l e   f o r   e d u c a t i o n a l   p u r p o s e s ,   t h e   c o d e   i s   n o t p e r f e c t ,   t h e r e   a r e   n o   t e s t s ,   t h e r e   m a y   b e   b u g s ,   e t c .   T h i s   i s   j u s t   a   s i m p l e   e x a m p l e   t o h e l p   d i s c u s s   t h e   R A  G    t o p i c   a n d   i t   i s   n o t   m e a n t   t o   b e   a   p r o d u c t i o n   r e a d y a p p l i c a t i o n ;   h o w e v e r ,   f e e l   f r e e   t o   c o n t r i b u t e   a n d   i m p r o v e   i t ! W h a t ’ s   N e x t ? W a n t   t o   c o n t r i b u t e   o r   e x t e n d   t h i s   p r o j e c t ?   H e r e   a r e   s o m e   e x c i t i n g   d i r e c t i o n s :    I m m e d i a t e   I m p r o v e m e n t s : A d d   s u p p o r t   f o r   m u l t i p l e   f i l e   f o r m a t s   ( P D F s ,   W o r d   d o c u m e n t s ) I m p l e m e n t   c a c h i n g   f o r   f r e q u e n t l y   a s k e d   q u e s t i o n s A d d   a n a l y t i c s   a n d   u s a g e   t r a c k i n g :   L a n g S m i t h   i s   e x t r e m e l y   p o w e r f u l   a n d e a s y   t o   u s e ! S u p p o r t   f o r   m u l t i p l e   l a n g u a g e s    A d v a n c e d   F e a t u r e s : U s e   S t r e a m l i t   t o   b u i l d   a n   a m a z i n g   f r o n t e n d   U I   i n   n o   t i m e ! I n t e g r a t i o n   w i t h   i n t e r n a l   E l a s t i c s e a r c h   f o r   p r i v a t e   d o c s S Q L    G  e n e r a t i o n   a n d   E x e c u t i o n D y n a m i c    C  o d e   E x e c u t i o n I n t e g r a t i o n   w i t h   S l a c k / M i c r o s o f t   T e a m s   f o r   c h a t b o t   d e p l o y m e n t  C  h e c k   o u t   t h e    G  i t H u b   r e p o s i t o r y   f o r   f u l l   d o c u m e n t a t i o n   a n d   c o n t r i b u t i o n g u i d e l i n e s . 

   W e ’ v e   d e v e l o p e d   a   p o w e r f u l   y e t   s i m p l e   A g e n t   t h a t   i s   n e a r l y   r e a d y   f o r p r o d u c t i o n .   I t   a l r e a d y   s u p p o r t s   k e y   f e a t u r e s   l i k e   a s y n c h r o n o u s   c a l l s   a n d e r r o r   h a n d l i n g ,   r e q u i r i n g   o n l y   m i n o r   a d j u s t m e n t s   f o r   d e p l o y m e n t .   T h a n k s   t o L a n g  C  h a i n ,   t h e   a g e n t ’ s   c o d e   i s   r e m a r k a b l y   s i m p l e ,   w i t h   t h e   m a j o r i t y   o f   t h e c o m p l e x i t y   h a n d l e d   b y   t h e   p r o m p t   i t s e l f .  C  o n c l u s i o n :   T h e   F u t u r e   I s   S i m p l e r   T h a n   Y o u   T h i n k S o ,   i s   R A  G    d e a d ?   N o t   e x a c t l y   —   b u t   i t ’ s   n o   l o n g e r   t h e   d e f a u l t   c h o i c e   i t   o n c e w a s . H e r e ’ s   w h a t   I ’ v e   l e a r n e d   i n   2 0 2 5 :    S t a r t   S i m p l e :   F o r   m o s t   d o c u m e n t a t i o n   Q & A   u s e   c a s e s ,   s e a r c h - f i r s t a p p r o a c h e s   a r e   s i m p l e r ,   c h e a p e r ,   a n d   o f t e n   m o r e   e f f e c t i v e   t h a n   t r a d i t i o n a l R A  G  .   U s e   R A  G    o n l y   f o r   s p e c i f i c   u s e   c a s e s   w h e r e   s i m p l e   t o o l s   a r e   n o t   e n o u g h .    E c o n o m i c s   H a v e    C  h a n g e d :   L a r g e   c o n t e x t   w i n d o w s   a n d   a f f o r d a b l e p r i c i n g   h a v e   f u n d a m e n t a l l y   s h i f t e d   t h e   c o s t   e q u a t i o n .   W h y   b u i l d   c o m p l e x i n f r a s t r u c t u r e   w h e n   y o u   c a n   s e a r c h   a n d   l o a d   e n t i r e   d o c u m e n t s   f o r   p e n n i e s ?    U s e   R A  G    W h e n   I t   M a k e s   S e n s e :   M a s s i v e   d a t a s e t s ,   f i n e - g r a i n e d p e r m i s s i o n s ,   o r   s p e c i a l i z e d   u s e   c a s e s   s t i l l   b e n e f i t   f r o m   R A  G  .   B u t   f o r   m o s t o r g a n i z a t i o n s ,   s e a r c h - f i r s t   i s   t h e   b e t t e r   s t a r t i n g   p o i n t . T h e   k e y   t a k e a w a y ?   D o n ’ t   s t a r t   w i t h   t h e   m o s t   c o m p l e x   s o l u t i o n .   S t a r t   s i m p l e , p r o v e   v a l u e ,   t h e n   a d d   c o m p l e x i t y   o n l y   w h e n   n e c e s s a r y .    C  o n s i d e r   b u i l d i n g s i m p l e   t o o l s   t o   a c c e s s   e x t e r n a l l y   a v a i l a b l e   d a t a   a n d   m a k e   i t   a v a i l a b l e   t o   t h e L L M   i n s t e a d   o f   b u i l d i n g   c o m p l e x   p i p e l i n e s .  C  o m i n g   U p   N e x t :   I n   m y   n e x t   a r t i c l e ,   I ’ l l   e x p l o r e   h o w   M o d e l    C  o n t e x t   P r o t o c o l ( M  C  P )   i s   c h a n g i n g   t h e   g a m e   a g a i n ,   e n a b l i n g   e v e n   m o r e   p o w e r f u l i n t e g r a t i o n s   b e t w e e n   L L M s   a n d   e x t e r n a l   s y s t e m s   c r e a t i n g   t r u l y   n o n d e t e r m i n i s t i c   a g e n t i c   w o r k f l o w s   t h a t   m a y   o u t p e r f o r m   c u r r e n t   A g e n t F r a m e w o r k s   s u c h   a s    C  r e w A I   o r   L a n g  G  r a p h .   S t a y   t u n e d !       Y o u   c an   f i n d   P ar t   2   o f   t h e s e   s e r i e s   h e r e . W a n t   t o   s t a y   u p d a t e d ?   F o l l o w   t h e   r e p o s i t o r y   a n d   c o n n e c t   w i t h   m e   o n   L i n k e d I n   f o r m o r e   A I   d e v e l o p m e n t   i n s i g h t s . A I L l m A g e n t s M a c h i n e   L e a r n i n g L a n g c h a i n 

Pu b l i s h e d   i n   I T N E X T 7 7 K   f o l l o w e r s · L a s t   p u b l i s h e d   6   h o u r s   a g o I T N E X T   i s   a   p l a t f o r m  f o r   I T   d e v e l o p e r s   &   s o f t w a r e   e n g i n e e r s   t o   s h a r e   k n o w l e d g e , c o n n e c t ,   c o l l a b o r a t e ,   l e a r n   a n d   e x p e r i e n c e   n e x t - g e n   t e c h n o l o g i e s . F o l l o w i n g W r i t t e n   b y   J a v i e r   R a m o s 3 . 1 K   f o l l o w e r s · 9 8   f o l l o w i n g A I / M L   S e p c i a l l i s t ,    C  e r t i f i e d   J a v a   A r c h i t e c t / A W S /  G   C  P / A z u r e / K 8 s : M i c r o s e r v i c e s / D o c k e r / K u b e r n e t e s ,   A W S / S e r v e r l e s s / B i g D a t a / S F , K a f k a / A k k a / S p a r k / A I ,   J S / R e a c t . F o l l o w R e s p o n s e s   ( 6 5 ) E r i c   H u g g i n s W i l k o   S t r o n k s J u n   1 4 O n e   o f   t h e   ma i n   r e a s o n s   o r g a n i s a t i o n   u s e   R A  G    i s   b e c a u s e   t h e y   d o n ' t   w a n t   t o   s e n d   t h e i r   p r o p r i e t a r y   d o c u me n t s   t o   t h e   L L M   p r o v i d e r ,   f o r   mu l t i p l e   r e a s o n s .   I n   y o u r   ' Y o u   D o n ' t   N e e d   R A  G  "   y o u   c o m p l e t e l y   m i s s   t h i s   p o i n t . 2   r e pl i e s R e pl y H o r s t   H e r b J u n   1 5 I t   i s   s t i l l   R A  G    -  R e t r i e v a l   A u g me n t e d    G  e n e r a t i o n .   H o w   t h e   r e t r i e v a l   o f   c o n t e x t   h a p p e n s   i s   n o t   s p e c i f i e d .   A   p i p e l i n e   o f   d o c u me n t   p r e -p r o c e s s i n g   -  c h u n k i n g   -  e mb e d d i n g   -i n d e x i n g )   t o   a l l o w   v e c t o r   s i m i l a r i t y   s e a r c h   i s   o n e   me a n s   o f   d o i n g   i t ,   e   s i mp l e … mo r e 2   r e pl i e s R e pl y s h o e b   s a y y e d J u n   1 4 L o o k i n g   f o r w a r d   t o   y o u r   a r t i c l e   o n   M  C  P .   A l s o   i f   M  C  P   c a n   w o r k   w i t h   S L M ?   J u s t   a   t h o u g h t   i f   i t   w o u l d   b e   c o v e r e d   i n   t h e   n e x t   a r t i c l e   : ) 1   r e pl y R e pl y S e e   a l l   r e s p o n s e s   W h a t   a r e   y o u r   t h o u g h t s ? 9 8 5 9 2 5 

M o r e   f r o m   t h e   l i s t :   " R e a d i n g   l i s t "  C  u r a t e d   b y E r i c   H u g g i n s V i e w   l i s t M o r e   f r o m   J a v i e r   R a m o s   a n d   I T N E X T S e e   a l l   f r o m  J a v i e r   R a mo s S e e   a l l   f r o m  I T N E X T I n b y I   T e s t e d   ( N e w )    G  o o g l e A n t i g r a v i t y   I D E   ( A n d … · 5 d   a g o I n b y I   U s e d   a    G  r a p h   T o A u t o m a t e   P r o m p t … · 6 d   a g o 1 0    C  l a u d e    C  o d e   2 . 0 T e c h n i q u e s   T h a t   T u r n e d … · 4 d   a g o A c c e l e r a t e   y o u d e v e l o p m e n t   w 5 d   a g o I n b y I n t r o d u c t i o n   t o   S t ar R o c k s   a  N e w M o d e r n   A n al y t i c al   D at ab as e S t ar R o c k s   i s   a  n e w   O L A P   d at ab as e   w h i c h   c a n h an d l e   m as s i v e   am o u n t s   o f   d at a .   T h i s   i s   a   f i r … J u n   2 5 ,   2 0 2 3 I n b y S t o p   S a y i n g   a  Q u b i t   I s   “ 0   an d   1   a t t h e   S am e   T i m e . ” Y o u ’ v e   h e ar d   t h e   c o n f u s i n g   s h o r t c u t s .   “ I t ’ s   a l l v al u e s   at   o n c e . ”   L e t ’ s   r e p l ac e   t h e   h y p e   w i t h   a … N o v   3 I n b y  C  o n f i g H u b :   W h y   Y o u r   I n t e r n al D e v e l o p e r   P l at f o r m   N e e d s   I t S e e   w h y    G  i t O p s   o f t e n   f e e l s   l i k e   a  s p r aw l   o f c o n f i g s ,   d i s c o v e r   h o w   t o   m an ag e … N o v   1 0 I n b y R u s t   i n   t h e   r e al   w o r l d :   S u p e r   f a s t d at a  i n g e s t i o n   w i t h   S c y l l aD B T h i s   ar t i c l e   i s   p ar t   o f   a  s e r i e s   o f   ar t i c l e s   w h e r e I   w i l l   s h o w   r e al   w o r l d   u s e   c as e s   i m p l e m e n t e d … J a n   1 ,   2 0 2 3 A I   S o f t w a r e   … J o e   N j … T o w a r …  G  a o   D a l i e   ( … R e z a   R e z v a n i  G  a br i e l   P r e d a I T N E X T J a v i e r   R a m o s 1 0 8 1 I T N E X T A l e x a n d r e   D a u bo i s 1 K 2 4 I T N E X T A r t e m   L a j k o 1 2 6 1 I T N E X T J a v i e r   R a m o s 2 3 8 2 

R e c o m m e n d e d   f r o m   M e d i u m I n b y A g e n t i c   A I   P r o j e c t :   B u i l d   a  M u l t i - A g e n t   s y s t e m   w i t h   L an g  G  r ap h   a n … T h i s   i s   an   e n d   t o   e n d   p r o j e c t   o n   b u i l d i n g   a m u l t i - ag e n t   i n s u r an c e   s u p p o r t   s y s t e m   u s i n g … N o v   1 1 I n b y B u i l d i n g   a  S e l f - I m p r o v i n g   A g e n t i c R A  G    S y s t e m S p e c i al i s t   ag e n t s ,   m u l t i - d i m e n s i o n al   e v a l , P ar e t o   f r o n t   an d   m o r e . N o v   1 4  G  o o g l e   J u s t   D r o p p e d   7 0   P ag e s   o n  C  o n t e x t   E n g i n e e r i n g .   H e r e ’ s   W h a t … I m ag i n e   an   A I   t h at   r e m e m b e r s   y o u ’ r e   v e g a n . K n o w s   y o u r   d e b u g g i n g   s t y l e .   R e c al l s   t h a t … N o v   1 5 I n b y D e e p S e e k   O  C  R   I s   I n s an e D e e p S e e k   A I   r e c e n t l y   r e v e al e d   D e e p S e e k - O  C  R ,   i t   i s   a  g r o u n d b r e ak i n g   ap p r o ac h   t o … N o v   1 6 T o w a r d s   A I A l ph a   I t e r a t i o n s 4 0 2 9 L e v e l   U p   C  o d i n g F a r e e d   K h a n 1 . 2 K 7 A a k a s h    G  u pt a 7 1 1 1 5 A I  G  u y s V i s h a l   R a j pu t 1 8 7 4 

S e e   mo r e   r e c o mme n d a t i o n s I   S p e n t   $ 5 0 0   L e ar n i n g   A I   i n   3 0 D a y s :   H e r e ’ s   M y   R o ad m ap F r o m   Z e r o   A I   K n o w l e d g e   t o   B u i l d i n g P r o d u c t i o n   A p p s O c t   1 7 I n b y T h e   P y t h o n   T o o l   I   B u i l t   i n   a W e e k e n d   T h at   N o w   P a y s   M y   R e n t H o w   I   t u r n e d   a  t i n y   au t o m at i o n   s c r i p t   i n t o   a p ai d   p r o d u c t   u s i n g   l i b r ar i e s ,   c l e an   O O P ,   a n d   … A u g   1 1 P r a k a s h   S h a r m a 1 1 4 6 P y t h o n   i n   P l a i n   E n g l i s h S u l e m a n   S a f d a r 4 . 2 K 7 9 

